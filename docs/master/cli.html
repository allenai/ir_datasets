<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" href="main.css" />
<script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js" integrity="sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU=" crossorigin="anonymous"></script>
<script src="main.js"></script>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="robots" content="noindex,nofollow" />
<title>Command Line Interface - ir_datasets</title>
</head>
<body>
<div class="page">

<div class="banner">This documentation is for <strong>master</strong>. See <a href="../cli.html">here</a> for documentation of the current latest version on pypi.</div>

<div style="position: absolute; top: 4px; left: 4px;"><a href="index.html">&larr; home</a></div>

<div style="position: absolute; top: 4px; right: 4px;">Github: <a href="https://github.com/allenai/ir_datasets/tree/master/">allenai/ir_datasets</a></div>
<h1><code>ir_datasets</code>: Command Line Interface</h1>
<h2 id="export">export command</h2>

<p>
Data can be exported to stdout in various formats using the <code>ir_datasets export</code> command.
</p>

<h4><code>ir_datasts export [dataset-id] docs [--fields] [--format]</code></h4>

<div class="methodinfo">
<p>Exports documents</p>
<p><code>--fields</code>: select which fields from the document to export (defaults to all)</p>
<p><code>--format</code>: select output format to use: <code>tsv</code> (default) or <code>jsonl</code></p>
</div>

<h4><code>ir_datasts export [dataset-id] queries [--fields] [--format]</code></h4>

<div class="methodinfo">
<p>Exports queries</p>
<p><code>--fields</code>: select which fields from the query to export (defaults to all)</p>
<p><code>--format</code>: select output format to use: <code>tsv</code> (default) or <code>jsonl</code></p>
</div>

<h4><code>ir_datasts export [dataset-id] qrels [--fields] [--format]</code></h4>

<div class="methodinfo">
<p>Exports queries</p>
<p><code>--fields</code>: select which fields from the qrels to export (defaults to all)</p>
<p><code>--format</code>: select output format to use: <code>trec</code>  (default), <code>tsv</code> or <code>jsonl</code></p>
</div>

<h4><code>ir_datasts export [dataset-id] scoreddocs [--fields] [--format]</code></h4>

<div class="methodinfo">
<p>Exports queries</p>
<p><code>--fields</code>: select which fields from the scoreddocs to export (defaults to all)</p>
<p><code>--format</code>: select output format to use: <code>trec</code>  (default), <code>tsv</code> or <code>jsonl</code></p>
</div>

<h2 id="export">lookup command</h2>

<p>
You can look up documents by their <code>doc_id</code> using the <code>ir_datasets lookup</code> command.
</p>

<h4><code>ir_datasts lookup [dataset-id] [doc_ids ...] [--fields] [--format]</code></h4>

<div class="methodinfo">
<p>Efficiently finds documents that have the provided doc_ids</p>
<p><code>--fields</code>: select which fields from the documents to export (defaults to all)</p>
<p><code>--format</code>: select output format to use: <code>trec</code>  (default), <code>tsv</code> or <code>jsonl</code></p>
</div>


<h2 id="export">doc_fifo command</h2>

<p>
You can create output FIFOs suitable for Anserini indexing using the <code>ir_datasets doc_fifo</code> command.
</p>

<p>
Note that unlike export and lookup, these always output as JSONL in a format that Anserini can use to index
(id and content fields). All selected fields are concatenated.
</p>

<p>
This command will output a command you can run for indexing with Anserini. This process remains running
until all documents are sent to fifos.
</p>

<h4><code>ir_datasts doc_fifos [dataset-id] [--fields] [--count]</code></h4>

<div class="methodinfo">
<p>Creates a temporary directory with fifos</p>
<p><code>--fields</code>: select which fields from the documents to export (defaults to all). These fields are concatenated.</p>
<p><code>--count</code>: how many fifos to make? Defualts to 1 less than the number of processors (or 1).</p>
<p><code>--dir</code>: where to put the fifos? Defaults to a new temp directory.</p>
</div>

<h2 id="export">clean command</h2>

<p>
This command can be used for cleaning up data that can be re-downloaded or re-generated
again later. This is helpful for freeing up disk space.
</p>

<h4><code>ir_datasts clean [dataset-ids ...] [--list] [-y] [-H]</code></h4>

<div class="methodinfo">
<p><code>[dataset-ids]</code>: one or more top-level dataset IDs to clean up.</p>
<p><code>--list</code>: list out the sizes of the provided dataset (or all datasets if non are given).</p>
<p><code>-y</code>: say "yes" to prompt (i.e., confirm delete).</p>
<p><code>-H</code>: print sizes in total bytes, rather than human-readable format.</p>
</div>

</div>
</body>
</html>
