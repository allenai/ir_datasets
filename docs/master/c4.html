<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" href="main.css" />
<script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js" integrity="sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU=" crossorigin="anonymous"></script>
<script src="main.js"></script>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="robots" content="noindex,nofollow" />
<title>C4 - ir_datasets</title>
</head>
<body>
<div class="page">

<div class="banner">This documentation is for <strong>master</strong>. See <a href="../c4.html">here</a> for documentation of the current latest version on pypi.</div>

<div style="position: absolute; top: 4px; left: 4px;"><a href="index.html">&larr; home</a></div>

<div style="position: absolute; top: 4px; right: 4px;">Github: <a href="https://github.com/allenai/ir_datasets/blob/master/ir_datasets/datasets/c4.py">datasets/c4.py</a></div>
<h1><code>ir_datasets</code>: C4</h1>
<div style="font-weight: bold; font-size: 1.1em;">Index</div>
<ol class="index">
<li><a href="#c4"><kbd>c4</kbd></a></li>
<li><a href="#c4/en-noclean-tr"><kbd><span class="prefix">c4</span>/en-noclean-tr</kbd></a></li>
<li><a href="#c4/en-noclean-tr/trec-misinfo-2021"><kbd><span class="prefix">c4</span>/en-noclean-tr/trec-misinfo-2021</kbd></a></li>
</ol>
<div id="Downloads">
</div>
<hr />
<div class="dataset" id="c4">
<h3><kbd class="select"><span class="str">"c4"</span></kbd></h3>

<div class="desc">
 <p> A version of <a href="https://www.tensorflow.org/datasets/catalog/c4">Google's C4 dataset</a>, which consists of articles crawled form the web. </p> 
</div>

</div>

<hr />
<div class="dataset" id="c4/en-noclean-tr" data-parent="c4">
<h3><kbd class="ds-name select"><span class="str">"c4/en-noclean-tr"</span></kbd></h3>

<div class="desc">
 <p> The "en-noclean" train subset of the corpus, consisting of ~1B documents written in English. Document IDs are assigned as proposed by the <a href="https://trec-health-misinfo.github.io/"> TREC Health Misinformation 2021 track</a>. </p> 
</div>
<div class="tabs">
<a class="tab" target="c4/en-noclean-tr__docs">docs</a>
<div id="c4/en-noclean-tr__docs" class="tab-content">

<p>Language: <span class="lang-code">en</span></p>
<div>Document type:</div>
<div class="type">
<div class="type-name">C4Doc: (<span class="kwd">namedtuple</span>)</div>
<ol class="type-fields">
<li data-tuple-idx="0"><span class="">doc_id</span>: <span class="kwd">str</span></li><li data-tuple-idx="1"><span class="">text</span>: <span class="kwd">str</span></li><li data-tuple-idx="2"><span class="">url</span>: <span class="kwd">str</span></li><li data-tuple-idx="3"><span class="">timestamp</span>: <span class="kwd">str</span></li>
</ol>
</div>
<p>Examples:</p><div class="ex-tabs">
<a class="ex-tab" target="irds-python">Python API</a>
<div class="ex-tab-content irds-python">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">ir_datasets</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">ir_datasets</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;c4/en-noclean-tr&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">dataset</span><span class="o">.</span><span class="n">docs_iter</span><span class="p">():</span>
    <span class="n">doc</span> <span class="c1"># namedtuple&lt;doc_id, text, url, timestamp&gt;</span>
</pre></div>
<p>You can find more details about the Python API <a href="python.html">here</a>.</p></div>
<a class="ex-tab" target="irds-cli">CLI</a>
<div class="ex-tab-content irds-cli">
<div class="highlight"><pre><span></span>ir_datasets <span class="nb">export</span> c4/en-noclean-tr docs
</pre></div>

<code class="output">

<div>[doc_id]&nbsp;&nbsp;&nbsp;&nbsp;[text]&nbsp;&nbsp;&nbsp;&nbsp;[url]&nbsp;&nbsp;&nbsp;&nbsp;[timestamp]</div>
<div>...</div>

</code>
<p>You can find more details about the CLI <a href="cli.html">here</a>.</p></div>
<a class="ex-tab" target="pyterrier">PyTerrier</a>
<div class="ex-tab-content pyterrier">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pyterrier</span> <span class="k">as</span> <span class="nn">pt</span>
<span class="n">pt</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">get_dataset</span><span class="p">(</span><span class="s1">&#39;irds:c4/en-noclean-tr&#39;</span><span class="p">)</span>
<span class="c1"># Index c4/en-noclean-tr</span>
<span class="n">indexer</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">IterDictIndexer</span><span class="p">(</span><span class="s1">&#39;./indices/c4_en-noclean-tr&#39;</span><span class="p">)</span>
<span class="n">index_ref</span> <span class="o">=</span> <span class="n">indexer</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">get_corpus_iter</span><span class="p">(),</span> <span class="n">fields</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">,</span> <span class="s1">&#39;url&#39;</span><span class="p">,</span> <span class="s1">&#39;timestamp&#39;</span><span class="p">])</span>
</pre></div>
<p>You can find more details about PyTerrier indexing <a href="https://pyterrier.readthedocs.io/en/latest/datasets.html#examples">here</a>.</p></div></div>
</div>
</div>
</div>

<hr />
<div class="dataset" id="c4/en-noclean-tr/trec-misinfo-2021" data-parent="c4">
<h3><kbd class="ds-name select"><span class="str">"c4/en-noclean-tr/trec-misinfo-2021"</span></kbd></h3>

<div class="desc">
 <p> The TREC Health Misinformation 2021 track. </p> <ul> <li><a href="https://trec-health-misinfo.github.io/">Shared Task Website</a> </ul> 
</div>
<div class="tabs">
<a class="tab" target="c4/en-noclean-tr/trec-misinfo-2021__queries">queries</a>
<div id="c4/en-noclean-tr/trec-misinfo-2021__queries" class="tab-content">

<p>Language: <span class="lang-code">en</span></p>
<div>Query type:</div>
<div class="type">
<div class="type-name">MisinfoQuery: (<span class="kwd">namedtuple</span>)</div>
<ol class="type-fields">
<li data-tuple-idx="0"><span class="">query_id</span>: <span class="kwd">str</span></li><li data-tuple-idx="1"><span class="">text</span>: <span class="kwd">str</span></li><li data-tuple-idx="2"><span class="">description</span>: <span class="kwd">str</span></li><li data-tuple-idx="3"><span class="">narrative</span>: <span class="kwd">str</span></li><li data-tuple-idx="4"><span class="">disclaimer</span>: <span class="kwd">str</span></li><li data-tuple-idx="5"><span class="">stance</span>: <span class="kwd">str</span></li><li data-tuple-idx="6"><span class="">evidence</span>: <span class="kwd">str</span></li>
</ol>
</div>
<p>Examples:</p><div class="ex-tabs">
<a class="ex-tab" target="irds-python">Python API</a>
<div class="ex-tab-content irds-python">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">ir_datasets</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">ir_datasets</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;c4/en-noclean-tr/trec-misinfo-2021&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">query</span> <span class="ow">in</span> <span class="n">dataset</span><span class="o">.</span><span class="n">queries_iter</span><span class="p">():</span>
    <span class="n">query</span> <span class="c1"># namedtuple&lt;query_id, text, description, narrative, disclaimer, stance, evidence&gt;</span>
</pre></div>
<p>You can find more details about the Python API <a href="python.html">here</a>.</p></div>
<a class="ex-tab" target="irds-cli">CLI</a>
<div class="ex-tab-content irds-cli">
<div class="highlight"><pre><span></span>ir_datasets <span class="nb">export</span> c4/en-noclean-tr/trec-misinfo-2021 queries
</pre></div>

<code class="output">

<div>[query_id]&nbsp;&nbsp;&nbsp;&nbsp;[text]&nbsp;&nbsp;&nbsp;&nbsp;[description]&nbsp;&nbsp;&nbsp;&nbsp;[narrative]&nbsp;&nbsp;&nbsp;&nbsp;[disclaimer]&nbsp;&nbsp;&nbsp;&nbsp;[stance]&nbsp;&nbsp;&nbsp;&nbsp;[evidence]</div>
<div>...</div>

</code>
<p>You can find more details about the CLI <a href="cli.html">here</a>.</p></div>
<a class="ex-tab" target="pyterrier">PyTerrier</a>
<div class="ex-tab-content pyterrier">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pyterrier</span> <span class="k">as</span> <span class="nn">pt</span>
<span class="n">pt</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">get_dataset</span><span class="p">(</span><span class="s1">&#39;irds:c4/en-noclean-tr/trec-misinfo-2021&#39;</span><span class="p">)</span>
<span class="n">index_ref</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">IndexRef</span><span class="o">.</span><span class="n">of</span><span class="p">(</span><span class="s1">&#39;./indices/c4_en-noclean-tr&#39;</span><span class="p">)</span> <span class="c1"># assumes you have already built an index</span>
<span class="n">pipeline</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">BatchRetrieve</span><span class="p">(</span><span class="n">index_ref</span><span class="p">,</span> <span class="n">wmodel</span><span class="o">=</span><span class="s1">&#39;BM25&#39;</span><span class="p">)</span>
<span class="c1"># (optionally other pipeline components)</span>
<span class="n">pipeline</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">get_topics</span><span class="p">(</span><span class="s1">&#39;text&#39;</span><span class="p">))</span>
</pre></div>
<p>You can find more details about PyTerrier retrieval <a href="https://pyterrier.readthedocs.io/en/latest/terrier-retrieval.html">here</a>.</p></div></div>
</div>

<a class="tab" target="c4/en-noclean-tr/trec-misinfo-2021__docs">docs</a>
<div id="c4/en-noclean-tr/trec-misinfo-2021__docs" class="tab-content">
<p>Inherits docs from <a class="ds-ref">c4/en-noclean-tr</a></p>
<p>Language: <span class="lang-code">en</span></p>
<div>Document type:</div>
<div class="type">
<div class="type-name">C4Doc: (<span class="kwd">namedtuple</span>)</div>
<ol class="type-fields">
<li data-tuple-idx="0"><span class="">doc_id</span>: <span class="kwd">str</span></li><li data-tuple-idx="1"><span class="">text</span>: <span class="kwd">str</span></li><li data-tuple-idx="2"><span class="">url</span>: <span class="kwd">str</span></li><li data-tuple-idx="3"><span class="">timestamp</span>: <span class="kwd">str</span></li>
</ol>
</div>
<p>Examples:</p><div class="ex-tabs">
<a class="ex-tab" target="irds-python">Python API</a>
<div class="ex-tab-content irds-python">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">ir_datasets</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">ir_datasets</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;c4/en-noclean-tr/trec-misinfo-2021&quot;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">dataset</span><span class="o">.</span><span class="n">docs_iter</span><span class="p">():</span>
    <span class="n">doc</span> <span class="c1"># namedtuple&lt;doc_id, text, url, timestamp&gt;</span>
</pre></div>
<p>You can find more details about the Python API <a href="python.html">here</a>.</p></div>
<a class="ex-tab" target="irds-cli">CLI</a>
<div class="ex-tab-content irds-cli">
<div class="highlight"><pre><span></span>ir_datasets <span class="nb">export</span> c4/en-noclean-tr/trec-misinfo-2021 docs
</pre></div>

<code class="output">

<div>[doc_id]&nbsp;&nbsp;&nbsp;&nbsp;[text]&nbsp;&nbsp;&nbsp;&nbsp;[url]&nbsp;&nbsp;&nbsp;&nbsp;[timestamp]</div>
<div>...</div>

</code>
<p>You can find more details about the CLI <a href="cli.html">here</a>.</p></div>
<a class="ex-tab" target="pyterrier">PyTerrier</a>
<div class="ex-tab-content pyterrier">
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pyterrier</span> <span class="k">as</span> <span class="nn">pt</span>
<span class="n">pt</span><span class="o">.</span><span class="n">init</span><span class="p">()</span>
<span class="n">dataset</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">get_dataset</span><span class="p">(</span><span class="s1">&#39;irds:c4/en-noclean-tr/trec-misinfo-2021&#39;</span><span class="p">)</span>
<span class="c1"># Index c4/en-noclean-tr</span>
<span class="n">indexer</span> <span class="o">=</span> <span class="n">pt</span><span class="o">.</span><span class="n">IterDictIndexer</span><span class="p">(</span><span class="s1">&#39;./indices/c4_en-noclean-tr&#39;</span><span class="p">)</span>
<span class="n">index_ref</span> <span class="o">=</span> <span class="n">indexer</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">dataset</span><span class="o">.</span><span class="n">get_corpus_iter</span><span class="p">(),</span> <span class="n">fields</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;text&#39;</span><span class="p">,</span> <span class="s1">&#39;url&#39;</span><span class="p">,</span> <span class="s1">&#39;timestamp&#39;</span><span class="p">])</span>
</pre></div>
<p>You can find more details about PyTerrier indexing <a href="https://pyterrier.readthedocs.io/en/latest/datasets.html#examples">here</a>.</p></div></div>
</div>
</div>
</div>

<script type="text/javascript">
$(function () {
    $.ajax({
        'url': 'https://smac.pub/irdsdlc?ds=c4'
    }).done(function (data) {
        $('#Downloads').append(generateDownloads('Downloadable content', data));
    });
});
</script>

</div>
</body>
</html>
