import re
import unittest
from ir_datasets.datasets.bright import BrightQuery
from ir_datasets.formats import TrecQrel, GenericDoc
from .base import DatasetIntegrationTest


class TestBright(DatasetIntegrationTest):
    def test_docs(self):
        self._test_docs('bright/aops', count=188002, items={
            0: GenericDoc('TheoremQA_xinyi/concavity.json', re.compile('^Consider a source X with a distortion measure \\$d\\(x, \\\\hat\\{x\\}\\)\\$ that satisfies the following property:.{119}\\\\max_\\{b:\\\\sum_\\{i=1\\}\\^m p_i d_i \\\\leq D\\} H\\(p\\)\\$ is concave\\. True or False\\?\nTherefore, the answer is True\\.$', flags=48)),
            9: GenericDoc('TheoremQA_elainewan/math_calculus_2.json', re.compile('^What is \\\\lim_\\{x \\\to 9\\} \\(\\(x \\- 9\\)/\\(\\\\sqrt\\{x\\} \\- 3\\)\\)\\?\nWe can directly substitute the value of x as 9 in th.{483}tituting x as 9, we get:\n\nlim_\\{x \\-> 9\\} \\(\\\\sqrt\\{x\\} \\+ 3\\) = sqrt\\(9\\) \\+ 3 = 6\n\nTherefore, the answer is 6\\.$', flags=48)),
            188001: GenericDoc('aops_2017_AIME_II_Problems/Problem_3', re.compile('^A triangle has vertices \\$A\\(0,0\\)\\$, \\$B\\(12,0\\)\\$, and \\$C\\(8,10\\)\\$\\. The probability that a randomly chosen p.{1820} of \\$ABC\\$, which is \\$\\\\frac\\{\\\\frac\\{109\\}\\{5\\}\\}\\{60\\}=\\\\frac\\{109\\}\\{300\\}\\$\\. The answer is \\$109\\+300=\\\\boxed\\{409\\}\\$\\.$', flags=48)),
        })

        self._test_docs('bright/biology', count=57359, items={
            0: GenericDoc('neanderthals_vitamin_C_diet/Neanderthal_0_43.txt', re.compile('^ pelvises; and proportionally shorter forearms and forelegs\\.\nBased on 45 Neanderthal long bones from.{187}20 males and 10 females Upper Palaeolithic humans is, respectively, 176\\.2\xa0cm \\(5\xa0ft 9\\.4\xa0in\\) and 162\\.9$', flags=48)),
            9: GenericDoc('neanderthals_vitamin_C_diet/Neanderthal_0_83.txt', re.compile('^ trends seen in obsidian transfer distance and tribe size in modern hunter\\-gatherers\\. However, accor.{420}nufacturing and so on\\. La Ferrassie is also located in one of the richest animal\\-migration routes of$', flags=48)),
            57358: GenericDoc('hot_water_bacteria/Thehandiworkofgoodhe_20_0.txt', "Don't scrub. Scrubbing can damage skin, especially if you do it a lot. The resulting cracks and small cuts give pathogens a place to grow."),
        })

        self._test_docs('bright/earth-science', count=121249, items={
            0: GenericDoc('arid_area/Earth_rainfall_climatology4_10.txt', re.compile('^, tundra, polar ice cap, and desert\\.\nRain forests are characterized by high rainfall, with definitio.{256}etween 750 millimetres \\(30\xa0in\\) and 1,270 millimetres \\(50\xa0in\\) a year\\.  They are widespread on Africa,$', flags=48)),
            9: GenericDoc('arid_area/Earth_rainfall_climatology4_27.txt', re.compile('^ are also possible across Atlantic Canada\\.  Amounts decrease as one works farther inland from the Pa.{348}ese regions averages between 300 and 600 millimeters \\(11\\.8 and 23\\.6\xa0in\\) per year, with lower amounts$', flags=48)),
            121248: GenericDoc('newton_estimation/ReviewofGravity_html4_2.txt', re.compile("^ is about 10 times the radius of the earth\\. This means the object is times farther from the center o.{327}ter reading this section, it is recommended\nto check the following  movie of Kepler's laws\\. \nhttp://$", flags=48)),
        })

        self._test_docs('bright/economics', count=50220, items={
            0: GenericDoc('uspopulationgrowth/thelongtermdeclineinfertilityandwhatitmeansforstatebudgets_76.txt', re.compile('^Changing societal norms and other factors have reshaped recent generations of\nAmerican families\\. Fol.{402}andemic—showing 43 states\nrecorded their lowest general fertility rate in at least three decades\\.  7$', flags=48)),
            9: GenericDoc('uspopulationgrowth/ImmigrantsComingAmericaOlderAges_7.txt', re.compile('^population has aged significantly in the last two decades\\.\n\\*\\*The Increasing Age of all Immigrants\\.\\*\\*.{3760}\\. Moreover, immigrants\nare now arriving at older ages compared to newcomers in previous years\\. These$', flags=48)),
            50219: GenericDoc('chi_squared/Chisquareddistribution_72.txt', re.compile('^χ  2  \\{\\\\displaystyle \\\\chi \\^\\{2\\}\\}  !\\[\\{\\\\\\\\displaystyle \\\\\\\\chi\n\\^\\{2\\}\\}\\]\\(https://wikimedia\\.org/api/rest_v1/me.{1567} the table\\.  \\[ _\\[ citation needed\n\\]\\(/wiki/Wikipedia:Citation_needed "Wikipedia:Citation needed"\\) _ \\]$', flags=48)),
        })

        self._test_docs('bright/leetcode', count=413932, items={
            0: GenericDoc('leetcode/csn_python_train_152036.txt', re.compile("^def get\\(tgt,\n        fun,\n        tgt_type='glob',\n        exclude_minion=False\\):\n    '''\n    Get da.{3193}exclude_minion:\n        if __opts__\\['id'\\] in ret:\n            del ret\\[__opts__\\['id'\\]\\]\n    return ret$", flags=48)),
            9: GenericDoc('leetcode/csn_python_train_323590.txt', re.compile('^def xstep\\(self\\):\n        r"""Minimise Augmented Lagrangian with respect to\n        :math:`\\\\mathbf\\{x\\}.{135}\\) \\+\n            self\\.D\\.T\\.dot\\(self\\.block_sep1\\(YU\\)\\), self\\.lu, self\\.piv\\),\n            dtype=self\\.dtype\\)$', flags=48)),
            413931: GenericDoc('leetcode/csn_python_train_35369.txt', re.compile('^def get_user_groups\\(self, user_name\\):\n        """Get a list of groups associated to a user\\.\n\n       .{458}     return \\[group\\.text for group in tree\\.find\\(\'data/groups\'\\)\\]\n\n        raise HTTPResponseError\\(res\\)$', flags=48)),
        })

        self._test_docs('bright/pony', count=7894, items={
            0: GenericDoc('Pony/src-builtin-runtime_options-_1.txt', '12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31'),
            9: GenericDoc('Pony/builtin-Array-_2.txt', re.compile('^\nModifying the Array can be done via update, insert and delete methods\nwhich alter the Array at an a.{820}quested number of elements and allocate that much space, with a\nlower bound of space for 8 elements\\.$', flags=48)),
            7893: GenericDoc('Pony/builtin-FloatingPoint-_53.txt', '\ny: A\n\nReturns¶\n\nA\n\n\nmax¶\n[Source]\nfun box max(\ny: A)\n: A\n\nParameters¶\n\ny: A\n\nReturns¶\n'),
        })

        self._test_docs('bright/psychology', count=52835, items={
            0: GenericDoc('horn_effect/attractivepeoplegetunfairadvantagesatworkaicanhelp_65.txt', re.compile('^\\[ Latest \\]\\(/the\\-latest\\) \\[ Magazine \\]\\(/magazine\\) \\[ Ascend \\]\\(/ascend\\) \\[ Topics\n\\]\\(/topics\\) \\[ Reading Li.{92} \\[ Data \\& Visuals \\]\\(/data\\-visuals\\) \\[\nCase Selections \\]\\(/case\\-selections\\) \\[ HBR Learning \\]\\(/learning\\)$', flags=48)),
            9: GenericDoc('horn_effect/Physicalattractivenessstereotype_21.txt', '5 languages'),
            52834: GenericDoc('quasi_experiment/quasiexperimentalresearchtypesexamplesapplication_0.txt', "[ ](/) [ Log in ](/auth?signin='true')"),
        })

        self._test_docs('bright/robotics', count=61961, items={
            0: GenericDoc('detachable_joint/en_187.txt', 'Translated from  German'),
            9: GenericDoc('detachable_joint/en_139.txt', 'UmbÃ¶rdelung  \nFlanging  '),
            61960: GenericDoc('can_message/Software680htmlL1gad_96.txt', '[ ![](typo3temp/pics/76676042ee.jpg) ](PCAN-FMS-Simulator-2.246.0.html?&L=1)'),
        })

        self._test_docs('bright/stackoverflow', count=107081, items={
            0: GenericDoc('R_base_tools/R_base_all_234_0.txt', re.compile('^\\[ RDocumentation \\]\\(/\\)\n\nMoon  \\[ \\]\\(https://github\\.com/datacamp/rdocumentation\\-2\\.0\\) \\[ Learn R\n\\]\\(https:/.{2229}ansform\\&utm_content=run_example_in_workspace\\)\n\nPowered by  \\[ DataCamp \\]\\(https://www\\.datacamp\\.com/\\)\n\n$', flags=48)),
            9: GenericDoc('R_base_tools/R_base_all_188_1.txt', re.compile('^ction\\.\n\nBecause of the way it is implemented, on a Unix\\-alike ` stderr = TRUE `\nimplies ` stdout = T.{813}nk/shell\\.exec\\?package=base\\&version=3\\.6\\.2\\) ` \\.\n\nPowered by  \\[ DataCamp \\]\\(https://www\\.datacamp\\.com/\\)\n\n$', flags=48)),
            107080: GenericDoc('Mmdn_RegExp/exec_48_0.txt', 'Get real-time assistance and support'),
        })

        self._test_docs('bright/sustainable-living', count=60792, items={
            0: GenericDoc('mosquito_control/447_60.txt', 'All fields  Title  Abstract  Keywords  Authors  Affiliations  Doi  Full Text\nReferences'),
            9: GenericDoc('mosquito_control/447_210.txt', re.compile('^\\*\\*Figure 8\\.\\*\\* Installing of single\\-charged dipolar electric field screens to\nlateral windows \\( \\*\\*A\\*\\*.{16}e greenhouse and an electric circuit to\nlink the screens \\( \\*\\*C\\*\\* \\) to a voltage generator \\( \\*\\*D\\*\\* \\)\\.$', flags=48)),
            60791: GenericDoc('bokashi/whatisbokashibran_55.txt', '##  Why is Bokashi Bran effective at fermenting food waste?'),
        })

        self._test_docs('bright/theoremqa-questions', count=188002, items={
            0: GenericDoc('TheoremQA_xinyi/concavity.json', re.compile('^Consider a source X with a distortion measure \\$d\\(x, \\\\hat\\{x\\}\\)\\$ that satisfies the following property:.{119}\\\\max_\\{b:\\\\sum_\\{i=1\\}\\^m p_i d_i \\\\leq D\\} H\\(p\\)\\$ is concave\\. True or False\\?\nTherefore, the answer is True\\.$', flags=48)),
            9: GenericDoc('TheoremQA_elainewan/math_calculus_2.json', re.compile('^What is \\\\lim_\\{x \\\to 9\\} \\(\\(x \\- 9\\)/\\(\\\\sqrt\\{x\\} \\- 3\\)\\)\\?\nWe can directly substitute the value of x as 9 in th.{483}tituting x as 9, we get:\n\nlim_\\{x \\-> 9\\} \\(\\\\sqrt\\{x\\} \\+ 3\\) = sqrt\\(9\\) \\+ 3 = 6\n\nTherefore, the answer is 6\\.$', flags=48)),
            188001: GenericDoc('aops_2017_AIME_II_Problems/Problem_3', re.compile('^A triangle has vertices \\$A\\(0,0\\)\\$, \\$B\\(12,0\\)\\$, and \\$C\\(8,10\\)\\$\\. The probability that a randomly chosen p.{1820} of \\$ABC\\$, which is \\$\\\\frac\\{\\\\frac\\{109\\}\\{5\\}\\}\\{60\\}=\\\\frac\\{109\\}\\{300\\}\\$\\. The answer is \\$109\\+300=\\\\boxed\\{409\\}\\$\\.$', flags=48)),
        })

        self._test_docs('bright/theoremqa-theorems', count=23839, items={
            0: GenericDoc('0', "\\begin{definition}[Definition:Addition]\n'''Addition''' is the basic operation $+$ everyone is familiar with.\nFor example:\n:$2 + 3 = 5$\n:$47 \\cdotp 3 + 191\\cdotp 4 = 238 \\cdotp 7$\n\\end{definition}"),
            9: GenericDoc('9', re.compile('^\\\\begin\\{definition\\}\\[Definition:Addition/Real Numbers\\]\nThe addition operation in the domain of real nu.{412}\\{x_n\\} \\} \\{\\} \\+ \\\\eqclass \\{\\\\sequence \\{y_n\\} \\} \\{\\} = \\\\eqclass \\{\\\\sequence \\{x_n \\+ y_n\\} \\} \\{\\}\\$\n\\\\end\\{definition\\}$', flags=48)),
            23838: GenericDoc('23838', re.compile("^\\\\section\\{Non\\-Archimedean Division Ring Iff Non\\-Archimedean Completion\\}\nTags: Complete Metric Spaces,.{1216}rm \\{\\\\, \\\\cdot \\\\,\\}' \\}\\$ non\\-archimedean \\{\\{iff\\}\\} \\$\\\\struct \\{R', \\\\norm \\{\\\\, \\\\cdot \\\\,\\}' \\}\\$ is\\.\n\\\\end\\{proof\\}\n\n$", flags=48)),
        })

        self._test_docs('bright/biology-long', count=524, items={
            0: GenericDoc('protein_in_food/Protein_folding.txt', re.compile('^Protein folding is the physical process by which a protein, after synthesis by a ribosome as a linea.{37857}clic amplification\nProtein structure prediction software\nProteopathy\nTime\\-resolved mass spectrometry$', flags=48)),
            9: GenericDoc('adults_lose_hearing/Sound.txt', re.compile('^\nIn physics, sound is a vibration that propagates as an acoustic wave through a transmission medium .{21951}sical tone\nResonance\nReverberation\nSonic weaponry\nSound synthesis\nSoundproofing\nStructural acoustics$', flags=48)),
            523: GenericDoc('UV_causes_skin_cancer/uva-vs-uvb.txt', re.compile('^\n\nHealth Conditions Featured Breast Cancer IBD Migraine Multiple Sclerosis \\(MS\\) Rheumatoid Arthritis.{128321}de medical advice, diagnosis, or treatment\\. See additional information\\. See additional information \\.$', flags=48)),
        })

        self._test_docs('bright/earth-science-long', count=601, items={
            0: GenericDoc('plant_produce_oxygen/Atmosphere_of_Earth.txt', re.compile('^\n\n\n\nAtmosphere of Earth \\- Wikipedia\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nJump to content\n\n\n\n\n\n\n\nMain m.{57540}evelopers\nStatistics\nCookie statement\nMobile view\n\n\n\n\n\n\n\n\n\n\n\n\n\nToggle limited content width\n\n\n\n\n\n\n\n\n$', flags=48)),
            9: GenericDoc('sendimentation_without_water/Tuff.txt', re.compile('^\n\n\n\nTuff \\- Wikipedia\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nJump to content\n\n\n\n\n\n\n\nMain menu\n\n\n\n\n\nMain .{37844}evelopers\nStatistics\nCookie statement\nMobile view\n\n\n\n\n\n\n\n\n\n\n\n\n\nToggle limited content width\n\n\n\n\n\n\n\n\n$', flags=48)),
            600: GenericDoc('moon_collided_with_earth/Giant-impact_hypothesis.txt', re.compile('^The giant\\-impact hypothesis, sometimes called the Big Splash, or the Theia Impact, is an astrogeolog.{24170}tory of Earth\nLunar geologic timescale\nOrigin of the Moon\nRoche limit\nPhaeton \\(hypothetical planet\\)\n$', flags=48)),
        })

        self._test_docs('bright/economics-long', count=516, items={
            0: GenericDoc('russia_rich/waragainstukrainewhatifrussiawins.txt', re.compile('^Skip to main content\n\n\\[ !\\[GLOBSEC \\- A Global Think Tank: Ideas Shaping the World\nlogo\\]\\(/themes/custo.{18751}rship\\)\n\nCopyright © 2008\\-2024 GLOBSEC \\| All rights reserved\n\n\\* \\[ Privacy policy \\]\\(/privacy\\-policy\\)\n\n$', flags=48)),
            9: GenericDoc('economic_growth/Balancedgrowthequilibrium.txt', re.compile('^Jump to content\n\nMain menu\n\nMain menu\n\nmove to sidebar  hide\n\nNavigation\n\n\\* \\[ Main page  \\]\\(/wiki/Mai.{11796}content width\n\n\\*\\[\nv\n\\]: View this template\n\\*\\[\nt\n\\]: Discuss this template\n\\*\\[\ne\n\\]: Edit this template\n\n$', flags=48)),
            515: GenericDoc('public_debt_default/debitopubblicohtml.txt', re.compile('^\\#  Quick access menu to the contents of the Treasury Department website\n\nGo to the main navigation m.{13365}Inflation\n\\*\\[\nBTPs Italia\n\\]: Treasury Bonds Linked to Italian Inflation\n\\*\\[\nMTN\n\\]: Medium Term Notes\n\n$', flags=48)),
        })

        self._test_docs('bright/pony-long', count=577, items={
            0: GenericDoc('Pony/pony_bench-BenchmarkList-.txt', re.compile('^\n\n\n\n\n\n\nBenchmarkList¶\n\\[Source\\]\ninterface tag BenchmarkList\n\nPublic Functions¶\nbenchmarks¶\n\\[Source\\]\nf.{23}h: PonyBench tag\\)\n: None val\n\nParameters¶\n\nbench: PonyBench tag\n\nReturns¶\n\nNone val\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n$', flags=48)),
            9: GenericDoc('Pony/builtin-Equal-.txt', re.compile('^\n\n\n\n\n\n\nEqual¶\n\\[Source\\]\nprimitive val Equal is\nEquatable\\[\\(Less val \\| Equal val \\| Greater val\\)\\] ref\n\nI.{474}ol val\n\nParameters¶\n\nthat: \\(Less val \\| Equal val \\| Greater val\\)\n\nReturns¶\n\nBool val\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n$', flags=48)),
            576: GenericDoc('Pony/builtin-Stringable-.txt', re.compile('^\n\n\n\n\n\n\nStringable¶\n\\[Source\\]\nThings that can be turned into a String\\.\ninterface box Stringable\n\nPubli.{49}epresentation of this object\\.\nfun box string\\(\\)\n: String iso\\^\n\nReturns¶\n\nString iso\\^\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n$', flags=48)),
        })

        self._test_docs('bright/psychology-long', count=512, items={
            0: GenericDoc('hindsight_bias/Barnumeffect.txt', re.compile('^Jump to content\n\nMain menu\n\nMain menu\n\nmove to sidebar  hide\n\nNavigation\n\n\\* \\[ Main page  \\]\\(/wiki/Mai.{36319}content width\n\n\\*\\[\nv\n\\]: View this template\n\\*\\[\nt\n\\]: Discuss this template\n\\*\\[\ne\n\\]: Edit this template\n\n$', flags=48)),
            9: GenericDoc('russell/whyisitsohardtochangepeoplesminds.txt', re.compile('^SKIP TO:  Header  \\| \\[ Log in \\]\\(https://greatergood\\.berkeley\\.edu/_ajax/login\\-\npopup\\) \\| \\[ Register \\]\\(h.{25545}e” to you and to millions around the globe\\.\n\n\\[ Give Now \\]\\(https://greatergood\\.berkeley\\.edu/donate\\)\n\n$', flags=48)),
            511: GenericDoc('emotion_heart/anahatachakraunlockingtheheartchakra.txt', re.compile('^\nHome Gallery About Us Classes \\& Events Blog Contact Us Members Area\nANAHATA CHAKRA \\- unlocking the .{11536} 2024\nAll Rights Reserved \\| YogaOne Australia\n\nPrivacy Policy\n\nPowered by BGR Development\n\nShare by:$', flags=48)),
        })

        self._test_docs('bright/robotics-long', count=508, items={
            0: GenericDoc('number_commands/24301.txt', re.compile('^  \nROS Resources: \\[ ROS Homepage \\]\\(http://ros\\.org/\\) \\| \\[ Media and Trademarks\n\\]\\(https://www\\.ros\\.org/b.{11331}rivacy\\)\n\nPowered by \\[ Discourse \\]\\(https://www\\.discourse\\.org\\) , best viewed with\nJavaScript enabled\n\n$', flags=48)),
            9: GenericDoc('takeoff_rotation/16374.txt', re.compile('^\\[ The Construct ROS Community \\]\\(/\\)\n\n\\#  \\[ How to hover a drone at certian height\\? \\]\\(/t/how\\-to\\-hover\\-a.{14162}olicy/\\)\n\nPowered by \\[ Discourse \\]\\(https://www\\.discourse\\.org\\) , best viewed with\nJavaScript enabled\n\n$', flags=48)),
            507: GenericDoc('ros_yaml/rclpyparamstutorialg.txt', re.compile('^Skip to content\n\n\\[ !\\[The Robotics Back\\-End\\]\\(https://roboticsbackend\\.com/wp\\-\ncontent/uploads/2020/02/.{23046}/ros2\\-for\\-beginners\\)\n\n\\*\\*\\[ Check out the course here \\]\\(https://rbcknd\\.com/ros2\\-for\\-beginners\\) \\*\\*\n\n×\n\n$', flags=48)),
        })

        self._test_docs('bright/stackoverflow-long', count=1858, items={
            0: GenericDoc('DBMS_LOB_LIBCACHE/oracle_LIBCACHE.txt', re.compile('^\\[ Previous \\]\\(DBMS_LDAP_UTL\\.html\\) \\[ Next  \\]\\(DBMS_LOB\\.html\\) JavaScript must be\nenabled to correctly di.{5874}arsing\\. This parameter is reserved for parallel compile jobs which are currently not implemented\\. \n\n$', flags=48)),
            9: GenericDoc('NET_Methods_Properties/NET_Methods.txt', re.compile('^Skip to main content\n\nThis browser is no longer supported\\.\n\nUpgrade to Microsoft Edge to take advant.{243415}ademarks \\]\\(https://www\\.microsoft\\.com/legal/intellectualproperty/Trademarks/\\)\n  \\* © Microsoft 2024 \n\n$', flags=48)),
            1857: GenericDoc('fastapi_security_advanced_user_guide/configuration.txt', re.compile('^\\[ !\\[Swagger\nLogo\\]\\(https://static0\\.smartbear\\.co/swagger/media/assets/images/swagger_logo\\.svg\\)\n\\]\\(/\\)\n\n\\*.{22702}https://www\\.linkedin\\.com/company/smartbear/\\) \\[ __\n\\]\\(http://www\\.youtube\\.com/user/SmartBearSoftware\\)\n\n$', flags=48)),
        })

        self._test_docs('bright/sustainable-living-long', count=554, items={
            0: GenericDoc('asparagas/Permaculture.txt', re.compile('^Jump to content\n\nMain menu\n\nMain menu\n\nmove to sidebar  hide\n\nNavigation\n\n\\* \\[ Main page  \\]\\(/wiki/Mai.{170361}content width\n\n\\*\\[\nv\n\\]: View this template\n\\*\\[\nt\n\\]: Discuss this template\n\\*\\[\ne\n\\]: Edit this template\n\n$', flags=48)),
            9: GenericDoc('foam/whatkindofpolyethylenematerialcanberecycledhtml.txt', re.compile('^Select Language\nHOME\nABOUT\nCOMPACT\nMELT\nDEWATER\nCASE\nVIDEO\nNEWS\nCONTACT US\nWhat kind of polyethylene.{3321}ill send detailed info and quotation\n\n\nName\n\\*\nEmail\n\\*\nTelephone\nCompany Name\n\\*\nMessage\n\\*\nContact Us\n$', flags=48)),
            553: GenericDoc('fresh_air_car/useherbsasanallnaturalairfreshener5944860.txt', re.compile('^Skip to Main Content\n\n\\[ !\\[Lifehacker Logo\\]\\(/images/lifehacker\\-logo\\.svg\\) \\]\\(https://lifehacker\\.com\\)\n\n\\*.{10783}\\\\\\(opens in a new tab\\\\\\)"\\)\n\\* \\[ Speedtest Logo  \\]\\(https://www\\.speedtest\\.net "\\\\\\(opens in a new tab\\\\\\)"\\)\n\n$', flags=48)),
        })

    def test_queries(self):
        self._test_queries('bright/aops', count=111, items={
            0: BrightQuery('aops_2019_AMC_12A_Problems/Problem_17', 'Let $s_k$ denote the sum of the $\\textit{k}$th powers of the roots of the polynomial $x^3-5x^2+8x-13$. In particular, $s_0=3$, $s_1=5$, and $s_2=9$. Let $a$, $b$, and $c$ be real numbers such that $s_{k+1} = a \\, s_k + b \\, s_{k-1} + c \\, s_{k-2}$ for $k = 2$, $3$, $....$ What is $a+b+c$?\n$\\textbf{(A)} \\; -6 \\qquad \\textbf{(B)} \\; 0 \\qquad \\textbf{(C)} \\; 6 \\qquad \\textbf{(D)} \\; 10 \\qquad \\textbf{(E)} \\; 26$', 'Newtons Sums'),
            9: BrightQuery('aops_2000_AIME_I_Problems/Problem_9', 'The system of equations\n \\begin{eqnarray*}\\log_{10}(2000xy) - (\\log_{10}x)(\\log_{10}y) & = & 4 \\\\ \\log_{10}(2yz) - (\\log_{10}y)(\\log_{10}z) & = & 1 \\\\ \\log_{10}(zx) - (\\log_{10}z)(\\log_{10}x) & = & 0 \\\\ \\end{eqnarray*}\nhas two solutions $(x_{1},y_{1},z_{1})$ and $(x_{2},y_{2},z_{2})$. Find $y_{1} + y_{2}$.', 'Simons Favorite Factoring Trick'),
            110: BrightQuery('aops_2017_AIME_II_Problems/Problem_3', 'A triangle has vertices $A(0,0)$, $B(12,0)$, and $C(8,10)$. The probability that a randomly chosen point inside the triangle is closer to vertex $B$ than to either vertex $A$ or vertex $C$ can be written as $\\frac{p}{q}$, where $p$ and $q$ are relatively prime positive integers. Find $p+q$.', 'Shoelace Theorem'),
        })

        self._test_queries('bright/biology', count=103, items={
            0: BrightQuery('0', 'Claim in article about why insects are attracted to light\nIn this article they are addressing the reason insects are attracted to light when they say\nHeat radiation as an attractive component is refuted by the effect of LED lighting, which supplies negligible infrared radiation yet still entraps vast numbers of insects.\nI don\'t see why attraction to LEDs shows they\'re not seeking heat. Could they for example be evolutionarily programmed to associate light with heat? So that even though they don\'t encounter heat near/on the LEDs they still "expect" to?', 'The question probes why insects are drawn to low-heat LED lights, challenging the idea that their attraction to light is heat-based. The document helps distinguish between heat attraction and evolved behaviors, shedding light on why insects might be attracted to LEDs despite their minimal heat.'),
            9: BrightQuery('9', 'Are humans more adapted to "light mode" or "dark mode"?\nI was discussing with a colleague about using dark-mode vs. light mode and remembered an article arguing that humans vision is more adapted to light-mode rather than dark-mode:\nI know that the trend “du jour” is to have a dark mode for pretty much everything, but look around the world is not dark with a bit of light, it’s actually the contrary. And as the human has evolved its vision to adapt to this reality, it’s asking extra efforts on many people.\nUnfortunately, no reference is provided to support this claim, so I am wondering if this is just an opinion or there are some studies to support this.\nWikipedia seems to confirm this somewhat since we are adapting much faster to "light mode" transition than to dark mode one:\nThis adaptation period is different between rod and cone cells and results from the regeneration of photopigments to increase retinal sensitivity. Light adaptation, in contrast, works very quickly, within seconds.\nAlso, some studies confirm that working using light mode is on average more efficient than using dark mode:\nlight mode won across all dimensions: irrespective of age, the positive contrast polarity was better for both visual-acuity tasks and for proofreading tasks.\nI am looking for arguments coming from evolutionary biology to confirm (or not) the assumption that human evolution favors light mode.', "The query explores if human vision is more adapted to light or dark environments from an evolutionary perspective. The document discusses human trichromacy and diurnality, elucidating color perception in light conditions and daytime activity, thus suggesting an adaptation to light environments. This document is relevant as it offers insight into the evolution of human vision in relation to light, aligning with the query's focus."),
            102: BrightQuery('102', 'How does yeast dissolve in sugar?\nThere\'s this fascinating "kitchen experiment". Take a "brick" of baker\'s yeast (not dry yeast), and a couple teaspoons of sugar, put them together in a cup and stir together. There\'s no doubt both are solids: yeast is a firm block, you must use quite a bit of force initially to crush it and even then it should remain a rather thick paste. The sugar is crystals, nothing tricky about that. And then, within a minute or so of stirring, your cup contains only liquid - not entirely fluid like water, but not much thicker than cream. Solid+Solid -> Liquid.\nWhat process leads to that? What happens with the baking yeast when it comes in contact with sugar, that it turns from solid to liquid, and releasing enough water to dissolve the sugar?', 'We can look into how certain substances naturally draw water from their surroundings, a process that helps explain the transformation of yeast and sugar from solids to a liquid state.'),
        })

        self._test_queries('bright/earth-science', count=116, items={
            0: BrightQuery('0', 'We know (think?) that Earth has three Hadley cells per hemisphere, but from observing gas giants such as Jupiter, we see that they have many more cells. According to a link from a comment in this question, Titan might have one cell going from north to south poles.\n\nWhat factors affect the number of cells a planet has, and how? Or to put it another way, given a hypothetical planet with atmosphere, what facts would you need to know in order to guess at how many cells it has?', "this post want to find out the factor determines the number of Hadley cells. The anwser use some formula to infer the number is determined by the planet's rotation rate and the latitudinal distribution of heating from the parent star."),
            9: BrightQuery('9', 'In the United States, the upcoming autumnal equinox is marked on most calendars as the "first day of autumn." Similarly the solstices are commonly called the "first day of summer" and "first day of winter." However in most other languages -- and even in older discussions in English -- the solstices have names like "Midsummer\'s Day" and "Midwinter\'s Day."\n\nIs there some sound reason (e.g. typical temperatures, asymmetrical sunrise/sunset times, thermal inertia, etc.) to consider a solstice as the first day of a new season, rather than the middle?\n\nAlso (perhaps less on-topic) is there any record of when the change in nomenclature took place in the U.S.? Are there similar discrepancies in other English-speaking countries or in other cultures?', 'The post is confused about the naming of some seasonal checkpoints, doubting that they may not precisely describe the real season is. The anwser gave a expaination that it may due to a seasonal lag, and gave some ways to reckon seasons. '),
            115: BrightQuery('115', "I am new with Python so please be kind. I want to download data from ERA5 and so far I have installed the CDS API package and followed all the instructions from https://cds.climate.copernicus.eu/api-how-to\r\n\r\nI have my main file ready to use but I get an error about the configuration file. I know that this file should contain the following:\r\n\r\nurl: https://cds.climate.copernicus.eu/api/v2\r\nkey: {UID}:{key}\r\nverify:0\r\nI have created a text file and a configuration file with this info and I have placed them in the following address (as required by the error I get in python):\r\n\r\nC:\\Users\\username\\.cdsapirc\r\nHowever, I still get the same error. What I am doing wrong? Do I need to create a different type of file? Do I need to write the user info in a different way?\r\n\r\nException: Missing/incomplete configuration file: C:\\Users\\username/.cdsapirc\r\nBy the way, I'm using a windows computer.", "Five steps to download the ERA5 data:Navigate to 'C:\\Users\\username' (or you can just move it later).\nIn Command Prompt, write 'type nul > .cdsapirc' and press Enter.\nRight-click the file and press 'Edit with Notepad++' (probably works with other programs).\nPaste the text that you already mentioned (key, etc).\nSave and close the document."),
        })

        self._test_queries('bright/economics', count=103, items={
            0: BrightQuery('0', "In what way do developed countries steal trillions of dollars from developing countries?\n\nAccording to the Guardian, rich Western countries 'steal' large amounts of money from poor countries, much more than they give in development aid.\n\nIf we add theft through trade in services to the mix, it brings total net resource outflows to about $3tn per year. That’s 24 times more than the aid budget. In other words, for every $1 of aid that developing countries receive, they lose $24 in net outflows. These outflows strip developing countries of an important source of revenue and finance for development. The GFI report finds that increasingly large net outflows have caused economic growth rates in developing countries to decline, and are directly responsible for falling living standards.\n\nI would like to know in what way the money is ‘stolen’, if this is illegal and if this is indeed ‘directly responsible for falling living standards’.", 'The way the money is stolen refers to same-invoice faking in multinational companies, which is actually tax avoidance. Then the question becomes how the tax avoidance is related to falling living standards in developing countries.'),
            9: BrightQuery('9', "Is there a diagram outlining the life of a dollar?\n\nI would like to understand the economic system concretely. My reading leads quickly into graphs and theory, which is interesting but not what I'm looking for. Instead, I imagine I should be able to trace the path of a dollar from my pocket through the major components of the economic system (the central bank, commercial banks, investors, companies, tax, government spending, government borrowing...)", 'This is related to the circular flow in which the major exchanges are represented as flows of money, goods and services, etc.'),
            102: BrightQuery('102', 'Why standard errors in country-level variables are higher than that in firm-level variables?\n\nFrom this dicussion, the commentor said\n\nLastly, firm fixed effects may absorb more variation and likely reduced the size of their standard errors.\n\nIn practice, I also mainly see that the standard error for country-level mainly higher than that of firm-level variables. I am wondering if there is any mathematical or intuitive way to explain this phenomenon.', 'We can check equations/calculation between firm-level and country-level GDP.'),
        })

        self._test_queries('bright/leetcode', count=142, items={
            0: BrightQuery('0', 'Given `n` non-negative integers representing an elevation map where the width of each bar is `1`, compute how much water it can trap after raining.\n\n**Example 1:**\n\n**Input:** height = \\[0,1,0,2,1,0,1,3,2,1,2,1\\]\n**Output:** 6\n**Explanation:** The above elevation map (black section) is represented by array \\[0,1,0,2,1,0,1,3,2,1,2,1\\]. In this case, 6 units of rain water (blue section) are being trapped.\n\n**Example 2:**\n\n**Input:** height = \\[4,2,0,3,2,5\\]\n**Output:** 9\n\n**Constraints:**\n\n*   `n == height.length`\n*   `1 <= n <= 2 * 104`\n*   `0 <= height[i] <= 105`', 'empty'),
            9: BrightQuery('9', "Given an array of integers `citations` where `citations[i]` is the number of citations a researcher received for their `ith` paper, return _the researcher's h-index_.\n\nAccording to the [definition of h-index on Wikipedia](https://en.wikipedia.org/wiki/H-index): The h-index is defined as the maximum value of `h` such that the given researcher has published at least `h` papers that have each been cited at least `h` times.\n\n**Example 1:**\n\n**Input:** citations = \\[3,0,6,1,5\\]\n**Output:** 3\n**Explanation:** \\[3,0,6,1,5\\] means the researcher has 5 papers in total and each of them had received 3, 0, 6, 1, 5 citations respectively.\nSince the researcher has 3 papers with at least 3 citations each and the remaining two with no more than 3 citations each, their h-index is 3.\n\n**Example 2:**\n\n**Input:** citations = \\[1,3,1\\]\n**Output:** 1\n\n**Constraints:**\n\n*   `n == citations.length`\n*   `1 <= n <= 5000`\n*   `0 <= citations[i] <= 1000`", 'empty'),
            141: BrightQuery('141', 'There are two mice and `n` different types of cheese, each type of cheese should be eaten by exactly one mouse.\n\nA point of the cheese with index `i` (**0-indexed**) is:\n\n*   `reward1[i]` if the first mouse eats it.\n*   `reward2[i]` if the second mouse eats it.\n\nYou are given a positive integer array `reward1`, a positive integer array `reward2`, and a non-negative integer `k`.\n\nReturn _**the maximum** points the mice can achieve if the first mouse eats exactly_ `k` _types of cheese._\n\n**Example 1:**\n\n**Input:** reward1 = \\[1,1,3,4\\], reward2 = \\[4,4,1,1\\], k = 2\n**Output:** 15\n**Explanation:** In this example, the first mouse eats the 2nd (0-indexed) and the 3rd types of cheese, and the second mouse eats the 0th and the 1st types of cheese.\nThe total points are 4 + 4 + 3 + 4 = 15.\nIt can be proven that 15 is the maximum total points that the mice can achieve.\n\n**Example 2:**\n\n**Input:** reward1 = \\[1,1\\], reward2 = \\[1,1\\], k = 2\n**Output:** 2\n**Explanation:** In this example, the first mouse eats the 0th (0-indexed) and 1st types of cheese, and the second mouse does not eat any cheese.\nThe total points are 1 + 1 = 2.\nIt can be proven that 2 is the maximum total points that the mice can achieve.\n\n**Constraints:**\n\n*   `1 <= n == reward1.length == reward2.length <= 105`\n*   `1 <= reward1[i], reward2[i] <= 1000`\n*   `0 <= k <= n`', 'empty'),
        })

        self._test_queries('bright/pony', count=112, items={
            0: BrightQuery('0', 'I will use the programming language pony.\nProblem:\nPlease write a program that determines whether a non-negative number is prime or not. Use lowercase to output to boolean.\n\nHere is the code template:\nfun isPrime(num: USize): bool =>\n...', 'N/A'),
            9: BrightQuery('9', 'I will use the programming language pony.\nProblem:\nThere is a function signFunc(x) that returns: * 1 if x is positive. * -1 if x is negative. * 0 if x is equal to 0. You are given an integer array nums. Let product be the product of all values in the array nums. Write a function that returns signFunc(product).\n\nHere is the code template:\nfun arraySign(nums: Array[I32]): I32 =>\n...', 'N/A'),
            111: BrightQuery('111', 'I will use the programming language pony.\nProblem:\nYou are given a string s consisting only of the characters \'0\' and \'1\'. In one operation, you can change any \'0\' to \'1\' or vice versa. The string is called alternating if no two adjacent characters are equal. For example, the string "010" is alternating, while the string "0100" is not. Write a function that returns the minimum number of operations needed to make s alternating.\n\nHere is the code template:\nfun minOperations(s: String): I32 =>\n...', 'N/A'),
        })

        self._test_queries('bright/psychology', count=101, items={
            0: BrightQuery('0', 'Can our beliefs change without reassessment or new evidence?\n\nI think the strength of our beliefs can change, say from 90-95% as the day wore on. But do people, people with or without psychosis, start and stop believing things without reasons?\n\nSuppose when I stop and think I always know something is impossible. Does that mean, even in the throes of some irrational behaviour (I sleep with my cheating wife again), I know it is, at least without encountering new evidence to the contrary?', 'To verify a claim, we need to find convincing evidence, e.g., scientific paper; To disprove it, we need to find counter-examples. The document provides a counter-example that can show beliefs can change without reassessment or new evidence.'),
            9: BrightQuery('9', 'Term for how one\'s self-image improves when something they associate with, like a sports team or politician, does well?\n\nI\'m trying to understand the phenomenon of how one\'s self-image, self-confidence, or personal regard goes up because something they affiliate themselves with "does well." For example, someone whose confidence and self-regard goes up when their team wins, or a character they relate to in a movie succeeds, or a politician they like says something clever.\n\nWhat is this called?', "This is related to Basking in reflected glory (BIRGing), where an individual associates themselves with known successful others such that the winner's success becomes the individual's own accomplishment."),
            100: BrightQuery('100', 'What is the term for the "knowing what you think but can\'t explain it" phenomenon?\n\nI think we all experience this phenomenon once in a while, and I am experiencing it right now. It\'s the feeling that whatever word one tries to say it seems to be wrong (for them) or confusing (for the listeners), and would require a period of time to think out the right word that they have already known. If severed, it can lead to frustration, but it\'s not really about feeling insecurity.\n\nWhat is the word for that?', 'This is an inability to continue with words even with thoughts in mind.'),
        })

        self._test_queries('bright/robotics', count=101, items={
            0: BrightQuery('0', 'Can’t see debug messages using RCLCPP_DEBUG\n\nI can’t see messages using RCLCPP_DEBUG by terminal and rqt, but I can using other levels of verbosity( INFO, ERROR, FATAL…).Selecting debug in rqt to see those messages doesn’t work either.\n\nI’m using rolling, working in C++ in a plugin of a controller and launching tb3_simulation_launch.py from nav2_bringup.\n\nI also saw a post here where they recommended to set the environment variable:\n\nRCLCPP_LOG_MIN_SEVERITY=RCLCPP_LOG_MIN_SEVERITY_DEBUG\n\nbut that didn’t work either. It must be something silly that I’m missing. Has this ever happened to you?\n\nThank you', 'showing debug messages is usually related to log-level. We can check whether there is some argument that can adjust this.'),
            9: BrightQuery('9', 'What is the alternative to a <ros2arduino.h>\n\nI am using Arduino Mega.\n\nI wanted to configure it to create a ros2 topic using the ros2arduino header.\n\nHowever, I found out that the header cannot be used because it can only be supported from 32bit or higher\n\nIn this case, what idea can you recommend?\n\nCurrently, the board is connected to I2C communication, and it seems that the main board will also be connected to Arduino through I2C communication. (Currently, I am connecting from Ubuntu installed on my PC for testing purposes.)\n\nThank you so much for reading.', 'One option is to try Serial. We can check examples of interfaces about how to communicate serially with Ros2.'),
            100: BrightQuery('100', 'Add files to be loaded when ROS node is launched\n\nRosanswers logo\n\nHello ROS community,\n\nI have a python code for a hardware device (radar) that uses a parameters.cfg file for hardware settings (independantly of ROS).\n\nIn the same code, I am creating a ROS node so that the device publishes its collected data.\n\nWhen I use a launch file, the basic format is as follows :\n\n<launch>\n <node pkg="radar_uart" \n    name="radar" \n    type="radar.py" \n    output="screen"> \n </node>\n</launch>\nBut when I do my $roslaunch radar radar.launch command, I get the error that it could not find the config file : [ No such file or directory \'radar_config30hz.cfg\' ]\n\nI tested by adding this line to the launch file, so the config would be loaded when launching the node :\n\n<rosparam file="$(find radar)/src/radar_config30hz.cfg" command="load"/>\nIt is still not working and the new error is : [ Ressource not found: your_package_name ]\n\nPS : As said the file is a not a dynamic reconfigure file, it just contains parameters to be used by the radar Hardware.\n\nPlease enlighten me on how to simly make the ros node find the file and use it when it launches.\n\nThanks and regards,\n\nLilia', 'The error with the No such file or directory could be due to the fact that you are giving a relative path for radar_config30hz.cfg, assuming that the working directory of your node will be the one in which the .py file is. Be aware that this may not be the case. We need to check packages that can obtain absolute path in python.'),
        })

        self._test_queries('bright/stackoverflow', count=117, items={
            0: BrightQuery('0', "Is there a melt command in Snowflake?\n\nIs there a Snowflake command that will transform a table like this:\n```\na,b,c\n1,10,0.1\n2,11,0.12\n3,12,0.13\n```\nto a table like this:\n```\nkey,value\na,1\na,2\na,3\nb,10\nb,11\nb,13\nc,0.1\nc,0.12\nc,0.13\n```\n?\n\nThis operation is often called melt in other tabular systems, but the basic idea is to convert the table into a list of key value pairs.\n\nThere is an UNPIVOT in SnowSQL, but as I understand it UNPIVOT requires to manually specify every single column. This doesn't seem practical for a large number of columns.", 'The desired behavior looks like some kind of table transformation. We should try to find some operation to make a two-dimensional table flat.'),
            9: BrightQuery('9', 'I have a dataframe with people and the food they like:\n\n```\ndf_class = pl.DataFrame(\n    {\n        \'people\': [\'alan\', \'bob\', \'charlie\'],\n        \'food\': [[\'orange\', \'apple\'], [\'banana\', \'cherry\'], [\'banana\', \'grape\']]\n    }\n)\nprint(df_class)\n\nshape: (3, 2)\n┌──────┬─────┐\n│ people    ┆ food      │\n│ ---           ┆ ---          │\n│ str           ┆ list[str]   │\n╞═════╪═════════════╡\n│ alan     ┆ ["orange", "apple"]   │\n│ bob      ┆ ["banana", "cherry"] │\n│ charlie ┆ ["banana", "grape"]  │\n└─────┴─────────────┘\n```\n\nAnd, I have a data structure with animals and the things they like to eat:\n\n```\nanimals = [\n    (\'squirrel\', (\'acorn\', \'almond\')),\n    (\'parrot\', (\'cracker\', \'grape\', \'guava\')),\n    (\'dog\', (\'chicken\', \'bone\')),\n    (\'monkey\', (\'banana\', \'plants\'))\n]\n```\n\nI want to add a new column pets in df_class, such that pets is a list of the animals that have at least one food in common with the corresponding person:\n\n```\ndf_class.with_columns(pets=???)   # <-- not sure what to do here\n\nshape: (3, 3)\n┌─────────┬─────────────┬──────────┐\n│ people            ┆ fruits                          ┆ pets                 │\n│ ---                   ┆ ---                               ┆ ---                     │\n│ str                  ┆ list[str]                         ┆ list[str]              │\n╞═════════╪══════════════╪══════════╡\n│ alan               ┆ ["orange", "apple"]      ┆ []                       │\n│ bob                ┆ ["banana", "cherry"]    ┆ ["monkey"]        │\n│ charlie           ┆ ["banana", "grape"]      ┆ ["monkey", "parrot"] │\n└─────────┴──────────────┴─────────────┘\n```\n\n1. I have some flexibility in the data structure for animals, in case for e.g. this is easier to do with some sort of set intersection\n2. the order of pets is unimportant\n3. pets should contain unique values\n4. I\'m looking for a single expression that would achieve the desired result, so as to fit within a larger framework of a list of expressions that perform transformations on other columns of my actual dataset\n\nSide note: my title seems kind of clunky and I\'m open to suggestions to reword so that it\'s easier to find by others that might be trying to solve a similar problem.', 'The programmer wants to add a new column of data (such as the data structure is like, name: information) to the original table, and this set of data will be related to each column in the original table. For example, if the second column has the same information with new piece of data, a new corresponding name can be added to the new column.'),
            116: BrightQuery('116', 'Substituting number of simulations ("n") in rnorm() using a list of predetermined values (in R)\n\nI\'m using rnorm() but instead of substituting the number of simulations "n" with just one variable, I would like to do this multiple times with "n" having predetermined values from a series of values. (In my project, I will need to do this 11,600+ times as there are 11,600+ predetermined values which I need to use rnorm() for - but the mean and standard deviation will be constant. To simplify everything for this discussion, I will just assume I have 10 predetermined values representing the number of simulations I would like to do.)\n\nunit.cost <- rnorm(728, mean = 8403.86, sd = 1000)\n\nInstead of just using "728" as the number of simulations ("n"), I would want to automatically substitute iteratively using these series of values: 728, 628, 100, 150, 99, 867, 934, 11, 67, 753. (I also want to use these series of values in the same order - and not just randomly using them, as the expected output should be a data frame listing the unit.cost using the predetermined values of n. Note that both mean and sd are constant.)\n\nWhat I\'ve tried:\n\nI am very much beginner in R, so upon search, it looks like for loop would be an ideal candidate to do this setup?', 'A programmer using the R language now wishes to iteratively use one value at a time from a provided list as the number of times to simulate, while keeping the mean and standard deviation constant, and collate the results into a data frame. A function needs to be found in the R language that will perform a specific function on each element of the list in turn and collect the results.'),
        })

        self._test_queries('bright/sustainable-living', count=108, items={
            0: BrightQuery('0', "Homescale designs for plastic incinerators?\n\nI'm under the impression that it's better to burn the plastic and maybe get a bit of energy from it than disposing it somewhere only for it to deteriorate into many microplastic particles.\n\nThat said, I no longer believe in industrial scale solutions designed to deal with metric tons of waste that need to be mass transported by trucks.\n\nI'm aware that plastic can't be just thrown to a campfire for it to burn completely to carbon dioxide without leaving both solid residues or uncombusted gases. Are there attempts to build small scale (home) incinerators which would be able to burn them thoroughly?\n\nAny links to a paper or a final product is welcome.", 'The fundamental question of this post is to investigate the practicality of building small incinerators, e.g., for homes. Therefore, we first need to understand the requirements for both incinerators and their application in the home. The doc specifies that the incinerators should be designed to ensure a temperature of 850 degrees for 2 seconds, which is not very practical for home configuration; In addition, there is a risk of toxic gas emission, which harms health of people in the community.'),
            9: BrightQuery('9', 'Charging only one battery at a time, automatically\n\nSometimes I have multiple batteries I want to charge, but I don\'t want to charge them all simultaneously. There are three scenarios for this:\n\nMy power source isn\'t strong enough to charge all the batteries simultaneously. For example, maybe I\'m off-grid using a small inverter. Charging batteries sequentially rather than all at once\nI want to keep several gadgets with batteries charged above 20%, but I want to avoid keeping them all at 100% in order to maximize their longevity.\nI am connected to the grid but I\'m trying to minimize my peak demand because I\'m paying a peak demand tariff.\nAll my batteries have their own AC adapters, so I\'m looking for something like a 120V power bar that has smart control of the outlets.\n\nIs there anything on the market like this? I\'m not even sure what to call this product category. I know there are "smart" power bars, but they mostly seem only useful for remote control, and that\'s the opposite of what I\'m thinking of here (I want something that works unattended.)\n\nIdeally I\'m looking for something that can do any/all of these functions:\n\nEnsure that only one power socket is energized at a given time. (Software developers describe this as "mutual exclusion")\nKeep one socket energized until the power demanded drops below a threshold, then automatically energize the next socket.\nrotate power to each socket on a timed schedule anywhere from minutes to days. (Bonus if the schedule can also be programmed with intentional blackout windows.)\nIf there is no product like this on the market, what would be a reasonable way to DIY something like this?', 'This post is asking whether we can charge multiple batteries one by one automatically. One option is to start with a commercial smart power. We need to know the characteristics of the existing smart power and see whether it fits our needs.'),
            107: BrightQuery('107', "How to utilize a boreal forest for animal husbandry?\n\nForests are the great producers of oxygen, and sustainable living is hardly imaginable with meadows and farmlands only.\n\nBut how to best utilize a forest for animal husbandry, in the way that hopefully interferes with wild nature as little as possible? I know from history, that our ancestors (in Eastern Europe) have used forests for pasturing pigs. But is the best way to use a forest to 'produce' meat? What about insects, for example?\n\nMy question is about boreal forests, such as those in Canada or Scandinavia.", 'We need information about practicing forestry and animal husbandry (grazing) in the same area.'),
        })

        self._test_queries('bright/theoremqa-questions', count=194, items={
            0: BrightQuery('TheoremQA_elainewan/math_calculus_5_2.json', "You're tracking the growth of a plant from a seed. The rate at which the plant grows in height is equal to the square root of the number of days since you planted it. One day after the seed was first planted, the plant was 1 inch tall. How tall will the plant be after 4 days?", 'integral rules'),
            9: BrightQuery('TheoremQA_xueguangma/future_value_2.json', 'Imagine you decide to save $800 every year for the next 4 years in a savings account that offers a 5% annual interest rate. How much money will you have in the account at the end of the 4th year?', 'future value'),
            193: BrightQuery('TheoremQA_xinyi/huffman_code_3.json', "Imagine you're playing a guessing game with a deck of cards numbered from 1 to 256. You're trying to guess a specific card that your friend has picked at random from the deck. Your strategy is to divide the deck into two equal parts and ask whether the card is in the first half or the second half. Based on the answer, you then divide the remaining half into another two equal parts and repeat the question. How many questions do you need to ask to identify the exact card?", 'huffman coding'),
        })

        self._test_queries('bright/theoremqa-theorems', count=76, items={
            0: BrightQuery('TheoremQA_jianyu_xu/pigeonhole_3.json', 'Mary is planning to bake exactly 10 cookies, and each cookie may be one of three different shapes -- triangle, circle, and square. Mary wants the cookie shapes to be a diverse as possible. What is the smallest possible count for the most common shape across the ten cookies?', 'Reasoning for Pigeonhole Principle: The given text provides a formal mathematical theorem and proof that directly relates to the Pigeonhole Principle, which is used to solve the given problem. The problem involves determining the minimum number of people with the same eye color in a group of 10 people, with only 3 different eye colors available. The solution correctly applies the Pigeonhole Principle by considering the eye colors as pigeonholes and the people as pigeons, leading to the conclusion that at least one color must be shared by at least 4 people.\n\nThe text provided gives a formal definition of a theorem that is essentially an expanded and rigorous form of the Pigeonhole Principle. It states that if a finite set \\(S\\) with cardinality \\(n\\) is partitioned into \\(k\\) subsets, then at least one subset must contain at least \\(\\lceil \\frac{n}{k} \\rceil\\) elements. The proof employs a proof by contradiction approach, assuming no subset contains as many as \\(\\lceil \\frac{n}{k} \\rceil\\) elements and demonstrating this assumption leads to a contradiction, thus proving at least one subset must meet this criteria.\n\nThis formal theorem and its proof encapsulate the reasoning required to solve the problem by showing that with more pigeons than pigeonholes (in this case, more people than eye color categories), at least one pigeonhole must contain more than one pigeon (or one eye color must be shared by more than a minimal equal share of people). The detailed explanation of the theorem and the proof, despite its formal mathematical notation, provides the foundational understanding needed to comprehend and apply the Pigeonhole Principle to solve the given problem.\n\nTherefore, the text can be helpful to a student not familiar with the theorem in understanding and solving the problem, as it uses very similar reasoning steps as the solution and applies the theorem in a related way as the solution applies the theorem to solve the problem.\n\nAnswer: True'),
            9: BrightQuery('TheoremQA_panlu/similarity2.json', 'Imagine two different models of the same type of toy car, Model A and Model B. Model A has a front bumper to rear bumper length of 12 units and a door width of 9 units. Model B, which is a scaled version of Model A, has a front bumper to rear bumper length of 3y-1 units, a door width of 6 units, and a hood length of 10 units. If the proportions between corresponding parts of these two models are the same, what is the value of y?', "Reasoning for Triangles with Proportional Sides are Similar: The provided text discusses the concept of similarity specifically in the context of triangles, emphasizing that if two triangles have corresponding sides that are proportional, then they are similar, which means their corresponding angles are equal. This is directly related to the theorem definition provided, which states that similarity in geometry refers to figures having the same shape but possibly different sizes, with corresponding sides being proportional and corresponding angles being congruent. The solution to the problem relies on the concept of similarity to set up a proportion between corresponding sides of the given polygons to find the value of 'y'. While the text focuses on triangles, the underlying principle of corresponding sides being proportional in similar figures is applicable to all polygons, including the ones mentioned in the problem statement. Therefore, the reasoning steps in the text about how proportions between sides indicate similarity, and the way similarity is used to solve the problem, are very much aligned. Thus, the text can be considered helpful for someone trying to understand and solve the given problem using the concept of similarity, even though it specifically discusses triangles, because the fundamental principles of similarity are the same across all geometric shapes.\n\nAnswer: True\n\nReasoning for Equiangular Triangles are Similar: The problem statement deals with finding the value of \\(y\\) in two similar polygons by using the sides' lengths. The solution relies on the concept of similarity to establish a proportion between corresponding sides of the two polygons and then solves for \\(y\\).\n\nThe given text discusses the concept of similarity within the context of equiangular triangles, demonstrating that if two triangles have the same corresponding angles, their sides are proportional, and thus, they are similar. This is underpinned by geometric proofs involving concepts like parallel lines, the Parallel Postulate, and properties of parallelograms and transversal lines to establish the proportionality of sides in similar triangles.\n\nAlthough the text specifically addresses triangles and uses geometric proofs to establish similarity and proportionality of sides, the underlying principle of corresponding sides being proportional in similar figures is directly applicable to the solution of the given problem. The solution uses this principle of proportionality between corresponding sides of similar polygons to set up an equation and solve for \\(y\\). \n\nTherefore, even though the text focuses on triangles, the reasoning about similarity and proportionality of sides it provides can help a student understand the foundational theorem used in the problem's solution. This comprehension can assist in solving the given problem and others like it, even if the specific geometric figures differ (polygons in the problem vs. triangles in the text).\n\nAnswer: True"),
            75: BrightQuery('TheoremQA_wenhuchen/series_convergen2.json', "Imagine you're adding a sequence of fractions where each fraction represents a piece of a digital image that becomes clearer as more pieces are added. Starting with the first piece, each subsequent piece is slightly smaller than the one before it, following the pattern where the numerator is one less than the iteration number, and the denominator is the iteration number cubed plus one, starting with iteration number 0. (for example, the first fraction is 0/2, the second is 1/9, and so on). Will there come a point when adding more pieces doesn't significantly change the image, or can you keep adding pieces forever and continue to see a change?", "Reasoning for Convergence of P-Series/Real: The text discusses the convergence of p-series and states that a p-series $\\sum_{n=1}^{\\infty} n^{-p}$ is convergent if $p > 1$. This information relates to the general criteria for series convergence, which is relevant to the problem of determining if the given series $\\sum_{i=0}^{\\infty} \\frac{n-1}{n^3+1}$ converges. However, the solution to the problem employs the limit comparison test, directly comparing the given series to the series $\\sum_{n=1}^{\\infty} \\frac{1}{n^2}$, which is a special case of a p-series where $p=2$. The text provides foundational knowledge on the convergence of p-series, which indirectly supports the reasoning used in the solution by affirming the convergence of the series $\\sum_{n=1}^{\\infty} \\frac{1}{n^2}$ used for comparison. This foundational knowledge could help a student understand why the comparison series converges, thus aiding in grasping the steps taken in the solution using the limit comparison test. Therefore, although the text does not directly address the limit comparison test, it provides useful background information on the convergence of p-series, which is closely related to the reasoning applied in the solution.\n\nAnswer: True\n\nReasoning for Limit Comparison Test: The provided text describes the Limit Comparison Test, which is exactly the method used in the solution to determine the convergence of the given series. The Limit Comparison Test, as explained in the text, is applied when the limit of the ratio of the terms of two series as n approaches infinity is a finite positive number. This determines that both series either converge or diverge together. The solution to the problem applies this theorem by comparing the given series with a known convergent series and finding the limit of the ratio of their terms as n approaches infinity to be a finite positive number (1, in this case). Therefore, the text explains the theorem and its application in a manner very similar to how the theorem is used in the problem solution, making it helpful for a student not familiar with the theorem to understand and solve the given problem.\n\nAnswer: True\n\nReasoning for Series/Complex: The provided text introduces the concept of a complex series and its definition, focusing on the notion of convergence through the limit of the sequence of partial sums as the number of terms approaches infinity. This is directly related to the theorem definition provided, which discusses series convergence and specifies that a series converges if the sum of its terms approaches a finite value as the number of terms goes to infinity. Although the text specifically mentions complex series, the underlying principle of series convergence — the limit of the sequence of partial sums — is applicable to the problem at hand, which involves determining the convergence of a series using the limit comparison test. The solution to the problem utilizes this principle by comparing the given series to a known convergent series and examining the limit of the ratio of their terms. Thus, the text can be helpful for a student not familiar with the theorem in understanding the concept of series convergence, which is crucial for applying the limit comparison test as done in the solution. Therefore, the text uses very similar reasoning steps as the solution and applies the theorem in a related way to solve the problem.\n\nAnswer: True\n\nReasoning for Series/Real: The given text provides a definition of what a real series is and explains how it is represented as the limit of the sequence of partial sums of a real sequence as the number of terms approaches infinity. This fundamental understanding of what constitutes a real series aligns closely with the theorem definition provided, which is about series convergence and how a series is said to converge if its sum approaches a finite value as the number of terms goes to infinity. While the text does not explicitly discuss the limit comparison test or the specific process used in the solution to determine the convergence of the series in question, it lays the groundwork for understanding the basic concept of series convergence, which is central to the solution's application of the limit comparison test. \n\nTherefore, the text can be considered helpful for a student who is not familiar with the concept of series convergence, as it provides necessary background information that could assist in understanding the solution's approach, even though it does not directly address the limit comparison test or the specific series mentioned in the problem statement. By understanding the definition and concept of a real series and its convergence, a student would be better prepared to grasp how and why the limit comparison test is applied in the solution.\n\nAnswer: True"),
        })

        self._test_queries('bright/biology-long', count=103, items={
            0: BrightQuery('0', 'Claim in article about why insects are attracted to light\nIn this article they are addressing the reason insects are attracted to light when they say\nHeat radiation as an attractive component is refuted by the effect of LED lighting, which supplies negligible infrared radiation yet still entraps vast numbers of insects.\nI don\'t see why attraction to LEDs shows they\'re not seeking heat. Could they for example be evolutionarily programmed to associate light with heat? So that even though they don\'t encounter heat near/on the LEDs they still "expect" to?', 'The question probes why insects are drawn to low-heat LED lights, challenging the idea that their attraction to light is heat-based. The document helps distinguish between heat attraction and evolved behaviors, shedding light on why insects might be attracted to LEDs despite their minimal heat.'),
            9: BrightQuery('9', 'Are humans more adapted to "light mode" or "dark mode"?\nI was discussing with a colleague about using dark-mode vs. light mode and remembered an article arguing that humans vision is more adapted to light-mode rather than dark-mode:\nI know that the trend “du jour” is to have a dark mode for pretty much everything, but look around the world is not dark with a bit of light, it’s actually the contrary. And as the human has evolved its vision to adapt to this reality, it’s asking extra efforts on many people.\nUnfortunately, no reference is provided to support this claim, so I am wondering if this is just an opinion or there are some studies to support this.\nWikipedia seems to confirm this somewhat since we are adapting much faster to "light mode" transition than to dark mode one:\nThis adaptation period is different between rod and cone cells and results from the regeneration of photopigments to increase retinal sensitivity. Light adaptation, in contrast, works very quickly, within seconds.\nAlso, some studies confirm that working using light mode is on average more efficient than using dark mode:\nlight mode won across all dimensions: irrespective of age, the positive contrast polarity was better for both visual-acuity tasks and for proofreading tasks.\nI am looking for arguments coming from evolutionary biology to confirm (or not) the assumption that human evolution favors light mode.', "The query explores if human vision is more adapted to light or dark environments from an evolutionary perspective. The document discusses human trichromacy and diurnality, elucidating color perception in light conditions and daytime activity, thus suggesting an adaptation to light environments. This document is relevant as it offers insight into the evolution of human vision in relation to light, aligning with the query's focus."),
            102: BrightQuery('102', 'How does yeast dissolve in sugar?\nThere\'s this fascinating "kitchen experiment". Take a "brick" of baker\'s yeast (not dry yeast), and a couple teaspoons of sugar, put them together in a cup and stir together. There\'s no doubt both are solids: yeast is a firm block, you must use quite a bit of force initially to crush it and even then it should remain a rather thick paste. The sugar is crystals, nothing tricky about that. And then, within a minute or so of stirring, your cup contains only liquid - not entirely fluid like water, but not much thicker than cream. Solid+Solid -> Liquid.\nWhat process leads to that? What happens with the baking yeast when it comes in contact with sugar, that it turns from solid to liquid, and releasing enough water to dissolve the sugar?', 'We can look into how certain substances naturally draw water from their surroundings, a process that helps explain the transformation of yeast and sugar from solids to a liquid state.'),
        })

        self._test_queries('bright/earth-science-long', count=116, items={
            0: BrightQuery('0', 'We know (think?) that Earth has three Hadley cells per hemisphere, but from observing gas giants such as Jupiter, we see that they have many more cells. According to a link from a comment in this question, Titan might have one cell going from north to south poles.\n\nWhat factors affect the number of cells a planet has, and how? Or to put it another way, given a hypothetical planet with atmosphere, what facts would you need to know in order to guess at how many cells it has?', "this post want to find out the factor determines the number of Hadley cells. The anwser use some formula to infer the number is determined by the planet's rotation rate and the latitudinal distribution of heating from the parent star."),
            9: BrightQuery('9', 'In the United States, the upcoming autumnal equinox is marked on most calendars as the "first day of autumn." Similarly the solstices are commonly called the "first day of summer" and "first day of winter." However in most other languages -- and even in older discussions in English -- the solstices have names like "Midsummer\'s Day" and "Midwinter\'s Day."\n\nIs there some sound reason (e.g. typical temperatures, asymmetrical sunrise/sunset times, thermal inertia, etc.) to consider a solstice as the first day of a new season, rather than the middle?\n\nAlso (perhaps less on-topic) is there any record of when the change in nomenclature took place in the U.S.? Are there similar discrepancies in other English-speaking countries or in other cultures?', 'The post is confused about the naming of some seasonal checkpoints, doubting that they may not precisely describe the real season is. The anwser gave a expaination that it may due to a seasonal lag, and gave some ways to reckon seasons. '),
            115: BrightQuery('115', "I am new with Python so please be kind. I want to download data from ERA5 and so far I have installed the CDS API package and followed all the instructions from https://cds.climate.copernicus.eu/api-how-to\r\n\r\nI have my main file ready to use but I get an error about the configuration file. I know that this file should contain the following:\r\n\r\nurl: https://cds.climate.copernicus.eu/api/v2\r\nkey: {UID}:{key}\r\nverify:0\r\nI have created a text file and a configuration file with this info and I have placed them in the following address (as required by the error I get in python):\r\n\r\nC:\\Users\\username\\.cdsapirc\r\nHowever, I still get the same error. What I am doing wrong? Do I need to create a different type of file? Do I need to write the user info in a different way?\r\n\r\nException: Missing/incomplete configuration file: C:\\Users\\username/.cdsapirc\r\nBy the way, I'm using a windows computer.", "Five steps to download the ERA5 data:Navigate to 'C:\\Users\\username' (or you can just move it later).\nIn Command Prompt, write 'type nul > .cdsapirc' and press Enter.\nRight-click the file and press 'Edit with Notepad++' (probably works with other programs).\nPaste the text that you already mentioned (key, etc).\nSave and close the document."),
        })

        self._test_queries('bright/economics-long', count=103, items={
            0: BrightQuery('0', "In what way do developed countries steal trillions of dollars from developing countries?\n\nAccording to the Guardian, rich Western countries 'steal' large amounts of money from poor countries, much more than they give in development aid.\n\nIf we add theft through trade in services to the mix, it brings total net resource outflows to about $3tn per year. That’s 24 times more than the aid budget. In other words, for every $1 of aid that developing countries receive, they lose $24 in net outflows. These outflows strip developing countries of an important source of revenue and finance for development. The GFI report finds that increasingly large net outflows have caused economic growth rates in developing countries to decline, and are directly responsible for falling living standards.\n\nI would like to know in what way the money is ‘stolen’, if this is illegal and if this is indeed ‘directly responsible for falling living standards’.", 'The way the money is stolen refers to same-invoice faking in multinational companies, which is actually tax avoidance. Then the question becomes how the tax avoidance is related to falling living standards in developing countries.'),
            9: BrightQuery('9', "Is there a diagram outlining the life of a dollar?\n\nI would like to understand the economic system concretely. My reading leads quickly into graphs and theory, which is interesting but not what I'm looking for. Instead, I imagine I should be able to trace the path of a dollar from my pocket through the major components of the economic system (the central bank, commercial banks, investors, companies, tax, government spending, government borrowing...)", 'This is related to the circular flow in which the major exchanges are represented as flows of money, goods and services, etc.'),
            102: BrightQuery('102', 'Why standard errors in country-level variables are higher than that in firm-level variables?\n\nFrom this dicussion, the commentor said\n\nLastly, firm fixed effects may absorb more variation and likely reduced the size of their standard errors.\n\nIn practice, I also mainly see that the standard error for country-level mainly higher than that of firm-level variables. I am wondering if there is any mathematical or intuitive way to explain this phenomenon.', 'We can check equations/calculation between firm-level and country-level GDP.'),
        })

        self._test_queries('bright/pony-long', count=112, items={
            0: BrightQuery('0', 'I will use the programming language pony.\nProblem:\nPlease write a program that determines whether a non-negative number is prime or not. Use lowercase to output to boolean.\n\nHere is the code template:\nfun isPrime(num: USize): bool =>\n...', 'N/A'),
            9: BrightQuery('9', 'I will use the programming language pony.\nProblem:\nThere is a function signFunc(x) that returns: * 1 if x is positive. * -1 if x is negative. * 0 if x is equal to 0. You are given an integer array nums. Let product be the product of all values in the array nums. Write a function that returns signFunc(product).\n\nHere is the code template:\nfun arraySign(nums: Array[I32]): I32 =>\n...', 'N/A'),
            111: BrightQuery('111', 'I will use the programming language pony.\nProblem:\nYou are given a string s consisting only of the characters \'0\' and \'1\'. In one operation, you can change any \'0\' to \'1\' or vice versa. The string is called alternating if no two adjacent characters are equal. For example, the string "010" is alternating, while the string "0100" is not. Write a function that returns the minimum number of operations needed to make s alternating.\n\nHere is the code template:\nfun minOperations(s: String): I32 =>\n...', 'N/A'),
        })

        self._test_queries('bright/psychology-long', count=101, items={
            0: BrightQuery('0', 'Can our beliefs change without reassessment or new evidence?\n\nI think the strength of our beliefs can change, say from 90-95% as the day wore on. But do people, people with or without psychosis, start and stop believing things without reasons?\n\nSuppose when I stop and think I always know something is impossible. Does that mean, even in the throes of some irrational behaviour (I sleep with my cheating wife again), I know it is, at least without encountering new evidence to the contrary?', 'To verify a claim, we need to find convincing evidence, e.g., scientific paper; To disprove it, we need to find counter-examples. The document provides a counter-example that can show beliefs can change without reassessment or new evidence.'),
            9: BrightQuery('9', 'Term for how one\'s self-image improves when something they associate with, like a sports team or politician, does well?\n\nI\'m trying to understand the phenomenon of how one\'s self-image, self-confidence, or personal regard goes up because something they affiliate themselves with "does well." For example, someone whose confidence and self-regard goes up when their team wins, or a character they relate to in a movie succeeds, or a politician they like says something clever.\n\nWhat is this called?', "This is related to Basking in reflected glory (BIRGing), where an individual associates themselves with known successful others such that the winner's success becomes the individual's own accomplishment."),
            100: BrightQuery('100', 'What is the term for the "knowing what you think but can\'t explain it" phenomenon?\n\nI think we all experience this phenomenon once in a while, and I am experiencing it right now. It\'s the feeling that whatever word one tries to say it seems to be wrong (for them) or confusing (for the listeners), and would require a period of time to think out the right word that they have already known. If severed, it can lead to frustration, but it\'s not really about feeling insecurity.\n\nWhat is the word for that?', 'This is an inability to continue with words even with thoughts in mind.'),
        })

        self._test_queries('bright/robotics-long', count=101, items={
            0: BrightQuery('0', 'Can’t see debug messages using RCLCPP_DEBUG\n\nI can’t see messages using RCLCPP_DEBUG by terminal and rqt, but I can using other levels of verbosity( INFO, ERROR, FATAL…).Selecting debug in rqt to see those messages doesn’t work either.\n\nI’m using rolling, working in C++ in a plugin of a controller and launching tb3_simulation_launch.py from nav2_bringup.\n\nI also saw a post here where they recommended to set the environment variable:\n\nRCLCPP_LOG_MIN_SEVERITY=RCLCPP_LOG_MIN_SEVERITY_DEBUG\n\nbut that didn’t work either. It must be something silly that I’m missing. Has this ever happened to you?\n\nThank you', 'showing debug messages is usually related to log-level. We can check whether there is some argument that can adjust this.'),
            9: BrightQuery('9', 'What is the alternative to a <ros2arduino.h>\n\nI am using Arduino Mega.\n\nI wanted to configure it to create a ros2 topic using the ros2arduino header.\n\nHowever, I found out that the header cannot be used because it can only be supported from 32bit or higher\n\nIn this case, what idea can you recommend?\n\nCurrently, the board is connected to I2C communication, and it seems that the main board will also be connected to Arduino through I2C communication. (Currently, I am connecting from Ubuntu installed on my PC for testing purposes.)\n\nThank you so much for reading.', 'One option is to try Serial. We can check examples of interfaces about how to communicate serially with Ros2.'),
            100: BrightQuery('100', 'Add files to be loaded when ROS node is launched\n\nRosanswers logo\n\nHello ROS community,\n\nI have a python code for a hardware device (radar) that uses a parameters.cfg file for hardware settings (independantly of ROS).\n\nIn the same code, I am creating a ROS node so that the device publishes its collected data.\n\nWhen I use a launch file, the basic format is as follows :\n\n<launch>\n <node pkg="radar_uart" \n    name="radar" \n    type="radar.py" \n    output="screen"> \n </node>\n</launch>\nBut when I do my $roslaunch radar radar.launch command, I get the error that it could not find the config file : [ No such file or directory \'radar_config30hz.cfg\' ]\n\nI tested by adding this line to the launch file, so the config would be loaded when launching the node :\n\n<rosparam file="$(find radar)/src/radar_config30hz.cfg" command="load"/>\nIt is still not working and the new error is : [ Ressource not found: your_package_name ]\n\nPS : As said the file is a not a dynamic reconfigure file, it just contains parameters to be used by the radar Hardware.\n\nPlease enlighten me on how to simly make the ros node find the file and use it when it launches.\n\nThanks and regards,\n\nLilia', 'The error with the No such file or directory could be due to the fact that you are giving a relative path for radar_config30hz.cfg, assuming that the working directory of your node will be the one in which the .py file is. Be aware that this may not be the case. We need to check packages that can obtain absolute path in python.'),
        })

        self._test_queries('bright/stackoverflow-long', count=117, items={
            0: BrightQuery('0', "Is there a melt command in Snowflake?\n\nIs there a Snowflake command that will transform a table like this:\n```\na,b,c\n1,10,0.1\n2,11,0.12\n3,12,0.13\n```\nto a table like this:\n```\nkey,value\na,1\na,2\na,3\nb,10\nb,11\nb,13\nc,0.1\nc,0.12\nc,0.13\n```\n?\n\nThis operation is often called melt in other tabular systems, but the basic idea is to convert the table into a list of key value pairs.\n\nThere is an UNPIVOT in SnowSQL, but as I understand it UNPIVOT requires to manually specify every single column. This doesn't seem practical for a large number of columns.", 'The desired behavior looks like some kind of table transformation. We should try to find some operation to make a two-dimensional table flat.'),
            9: BrightQuery('9', 'I have a dataframe with people and the food they like:\n\n```\ndf_class = pl.DataFrame(\n    {\n        \'people\': [\'alan\', \'bob\', \'charlie\'],\n        \'food\': [[\'orange\', \'apple\'], [\'banana\', \'cherry\'], [\'banana\', \'grape\']]\n    }\n)\nprint(df_class)\n\nshape: (3, 2)\n┌──────┬─────┐\n│ people    ┆ food      │\n│ ---           ┆ ---          │\n│ str           ┆ list[str]   │\n╞═════╪═════════════╡\n│ alan     ┆ ["orange", "apple"]   │\n│ bob      ┆ ["banana", "cherry"] │\n│ charlie ┆ ["banana", "grape"]  │\n└─────┴─────────────┘\n```\n\nAnd, I have a data structure with animals and the things they like to eat:\n\n```\nanimals = [\n    (\'squirrel\', (\'acorn\', \'almond\')),\n    (\'parrot\', (\'cracker\', \'grape\', \'guava\')),\n    (\'dog\', (\'chicken\', \'bone\')),\n    (\'monkey\', (\'banana\', \'plants\'))\n]\n```\n\nI want to add a new column pets in df_class, such that pets is a list of the animals that have at least one food in common with the corresponding person:\n\n```\ndf_class.with_columns(pets=???)   # <-- not sure what to do here\n\nshape: (3, 3)\n┌─────────┬─────────────┬──────────┐\n│ people            ┆ fruits                          ┆ pets                 │\n│ ---                   ┆ ---                               ┆ ---                     │\n│ str                  ┆ list[str]                         ┆ list[str]              │\n╞═════════╪══════════════╪══════════╡\n│ alan               ┆ ["orange", "apple"]      ┆ []                       │\n│ bob                ┆ ["banana", "cherry"]    ┆ ["monkey"]        │\n│ charlie           ┆ ["banana", "grape"]      ┆ ["monkey", "parrot"] │\n└─────────┴──────────────┴─────────────┘\n```\n\n1. I have some flexibility in the data structure for animals, in case for e.g. this is easier to do with some sort of set intersection\n2. the order of pets is unimportant\n3. pets should contain unique values\n4. I\'m looking for a single expression that would achieve the desired result, so as to fit within a larger framework of a list of expressions that perform transformations on other columns of my actual dataset\n\nSide note: my title seems kind of clunky and I\'m open to suggestions to reword so that it\'s easier to find by others that might be trying to solve a similar problem.', 'The programmer wants to add a new column of data (such as the data structure is like, name: information) to the original table, and this set of data will be related to each column in the original table. For example, if the second column has the same information with new piece of data, a new corresponding name can be added to the new column.'),
            116: BrightQuery('116', 'Substituting number of simulations ("n") in rnorm() using a list of predetermined values (in R)\n\nI\'m using rnorm() but instead of substituting the number of simulations "n" with just one variable, I would like to do this multiple times with "n" having predetermined values from a series of values. (In my project, I will need to do this 11,600+ times as there are 11,600+ predetermined values which I need to use rnorm() for - but the mean and standard deviation will be constant. To simplify everything for this discussion, I will just assume I have 10 predetermined values representing the number of simulations I would like to do.)\n\nunit.cost <- rnorm(728, mean = 8403.86, sd = 1000)\n\nInstead of just using "728" as the number of simulations ("n"), I would want to automatically substitute iteratively using these series of values: 728, 628, 100, 150, 99, 867, 934, 11, 67, 753. (I also want to use these series of values in the same order - and not just randomly using them, as the expected output should be a data frame listing the unit.cost using the predetermined values of n. Note that both mean and sd are constant.)\n\nWhat I\'ve tried:\n\nI am very much beginner in R, so upon search, it looks like for loop would be an ideal candidate to do this setup?', 'A programmer using the R language now wishes to iteratively use one value at a time from a provided list as the number of times to simulate, while keeping the mean and standard deviation constant, and collate the results into a data frame. A function needs to be found in the R language that will perform a specific function on each element of the list in turn and collect the results.'),
        })

        self._test_queries('bright/sustainable-living-long', count=108, items={
            0: BrightQuery('0', "Homescale designs for plastic incinerators?\n\nI'm under the impression that it's better to burn the plastic and maybe get a bit of energy from it than disposing it somewhere only for it to deteriorate into many microplastic particles.\n\nThat said, I no longer believe in industrial scale solutions designed to deal with metric tons of waste that need to be mass transported by trucks.\n\nI'm aware that plastic can't be just thrown to a campfire for it to burn completely to carbon dioxide without leaving both solid residues or uncombusted gases. Are there attempts to build small scale (home) incinerators which would be able to burn them thoroughly?\n\nAny links to a paper or a final product is welcome.", 'The fundamental question of this post is to investigate the practicality of building small incinerators, e.g., for homes. Therefore, we first need to understand the requirements for both incinerators and their application in the home. The doc specifies that the incinerators should be designed to ensure a temperature of 850 degrees for 2 seconds, which is not very practical for home configuration; In addition, there is a risk of toxic gas emission, which harms health of people in the community.'),
            9: BrightQuery('9', 'Charging only one battery at a time, automatically\n\nSometimes I have multiple batteries I want to charge, but I don\'t want to charge them all simultaneously. There are three scenarios for this:\n\nMy power source isn\'t strong enough to charge all the batteries simultaneously. For example, maybe I\'m off-grid using a small inverter. Charging batteries sequentially rather than all at once\nI want to keep several gadgets with batteries charged above 20%, but I want to avoid keeping them all at 100% in order to maximize their longevity.\nI am connected to the grid but I\'m trying to minimize my peak demand because I\'m paying a peak demand tariff.\nAll my batteries have their own AC adapters, so I\'m looking for something like a 120V power bar that has smart control of the outlets.\n\nIs there anything on the market like this? I\'m not even sure what to call this product category. I know there are "smart" power bars, but they mostly seem only useful for remote control, and that\'s the opposite of what I\'m thinking of here (I want something that works unattended.)\n\nIdeally I\'m looking for something that can do any/all of these functions:\n\nEnsure that only one power socket is energized at a given time. (Software developers describe this as "mutual exclusion")\nKeep one socket energized until the power demanded drops below a threshold, then automatically energize the next socket.\nrotate power to each socket on a timed schedule anywhere from minutes to days. (Bonus if the schedule can also be programmed with intentional blackout windows.)\nIf there is no product like this on the market, what would be a reasonable way to DIY something like this?', 'This post is asking whether we can charge multiple batteries one by one automatically. One option is to start with a commercial smart power. We need to know the characteristics of the existing smart power and see whether it fits our needs.'),
            107: BrightQuery('107', "How to utilize a boreal forest for animal husbandry?\n\nForests are the great producers of oxygen, and sustainable living is hardly imaginable with meadows and farmlands only.\n\nBut how to best utilize a forest for animal husbandry, in the way that hopefully interferes with wild nature as little as possible? I know from history, that our ancestors (in Eastern Europe) have used forests for pasturing pigs. But is the best way to use a forest to 'produce' meat? What about insects, for example?\n\nMy question is about boreal forests, such as those in Canada or Scandinavia.", 'We need information about practicing forestry and animal husbandry (grazing) in the same area.'),
        })

    def test_qrels(self):
        self._test_qrels('bright/aops', count=623280, items={
            0: TrecQrel('aops_2019_AMC_12A_Problems/Problem_17', 'math_test_intermediate_algebra_1179', 1, '0'),
            9: TrecQrel('aops_2019_AMC_12A_Problems/Problem_17', 'camel_6', -100, '0'),
            623279: TrecQrel('aops_2017_AIME_II_Problems/Problem_3', 'math_test_geometry_641', -100, '0'),
        })

        self._test_qrels('bright/biology', count=372, items={
            0: TrecQrel('0', 'insects_attracted_to_light/Proximate_and_ultimate_causation_0.txt', 1, '0'),
            9: TrecQrel('1', 'breathe_out_of_one_nostril/Nasal_cycle_2.txt', 1, '0'),
            371: TrecQrel('102', 'yeast_dissolve_in_sugar/Osmosis_0.txt', 1, '0'),
        })

        self._test_qrels('bright/earth-science', count=585, items={
            0: TrecQrel('0', 'number_of_hadley_cell/Hadley_cell2.txt', 1, '0'),
            9: TrecQrel('3', 'solid_inner_core/Earth%27s_inner_core1.txt', 1, '0'),
            584: TrecQrel('115', 'era5_data/Create_and_Delete_Files_and_Directories_from_Windows_Command_Prompt5.txt', 1, '0'),
        })

        self._test_qrels('bright/economics', count=800, items={
            0: TrecQrel('0', 'stole/ajol_6.txt', 1, '0'),
            9: TrecQrel('1', 'stochastic_dominance/Stochasticdominance_4.txt', 1, '0'),
            799: TrecQrel('102', 'country_firm/granular_6.txt', 1, '0'),
        })

        self._test_qrels('bright/leetcode', count=33747, items={
            0: TrecQrel('0', 'leetcode/leetcode_11.txt', 1, '0'),
            9: TrecQrel('0', 'leetcode/leetcode_496.txt', -100, '0'),
            33746: TrecQrel('141', 'leetcode/leetcode_436.txt', -100, '0'),
        })

        self._test_qrels('bright/pony', count=2219, items={
            0: TrecQrel('0', 'Pony/4_control-structures_13.txt', 1, '0'),
            9: TrecQrel('0', 'Pony/4_control-structures_2.txt', 1, '0'),
            2218: TrecQrel('111', 'Pony/1_variables_1.txt', 1, '0'),
        })

        self._test_qrels('bright/psychology', count=692, items={
            0: TrecQrel('0', 'confirmation_bias/seeds_model_11.txt', 1, '0'),
            9: TrecQrel('1', 'meg/Magnetoencephalography_18.txt', 1, '0'),
            691: TrecQrel('100', 'mentalblock/Mentalblock_3.txt', 1, '0'),
        })

        self._test_qrels('bright/robotics', count=520, items={
            0: TrecQrel('0', 'ros2cpp/navigationlaunchpy_20.txt', 1, '0'),
            9: TrecQrel('2', 'gazebo/indexhtml_2.txt', 1, '0'),
            519: TrecQrel('100', 'relative_path/PackagesClientLibrar_6.txt', 1, '0'),
        })

        self._test_qrels('bright/stackoverflow', count=478, items={
            0: TrecQrel('0', 'snowflake_docs/flatten_2_0.txt', 1, '0'),
            9: TrecQrel('1', 'Python_pandas_functions_with_style/DataFrame_93_5.txt', 1, '0'),
            477: TrecQrel('116', 'R_base_all/R_base_all_351_0.txt', 1, '0'),
        })

        self._test_qrels('bright/sustainable-living', count=576, items={
            0: TrecQrel('0', 'incineration/Incineration_62.txt', 1, '0'),
            9: TrecQrel('0', 'incineration/Incineration_92.txt', 1, '0'),
            575: TrecQrel('107', 'boreal_forest/Silvopasture_5.txt', 1, '0'),
        })

        self._test_qrels('bright/theoremqa-questions', count=607140, items={
            0: TrecQrel('TheoremQA_elainewan/math_calculus_5_2.json', 'TheoremQA_elainewan/math_calculus_5.json', 1, '0'),
            9: TrecQrel('TheoremQA_elainewan/math_calculus_5_2.json', 'camel_6003', -100, '0'),
            607139: TrecQrel('TheoremQA_xinyi/huffman_code_3.json', 'TheoremQA_xinyi/huffman_code_3.json', -100, '0'),
        })

        self._test_qrels('bright/theoremqa-theorems', count=151, items={
            0: TrecQrel('TheoremQA_jianyu_xu/pigeonhole_3.json', '18695', 1, '0'),
            9: TrecQrel("TheoremQA_wenhuchen/L'Hôpital_rule1.json", '11592', 1, '0'),
            150: TrecQrel('TheoremQA_wenhuchen/series_convergen2.json', '8392', 1, '0'),
        })

        self._test_qrels('bright/biology-long', count=372, items={
            0: TrecQrel('0', 'insects_attracted_to_light/Proximate_and_ultimate_causation_0.txt', 1, '0'),
            9: TrecQrel('1', 'breathe_out_of_one_nostril/Nasal_cycle_2.txt', 1, '0'),
            371: TrecQrel('102', 'yeast_dissolve_in_sugar/Osmosis_0.txt', 1, '0'),
        })

        self._test_qrels('bright/earth-science-long', count=585, items={
            0: TrecQrel('0', 'number_of_hadley_cell/Hadley_cell2.txt', 1, '0'),
            9: TrecQrel('3', 'solid_inner_core/Earth%27s_inner_core1.txt', 1, '0'),
            584: TrecQrel('115', 'era5_data/Create_and_Delete_Files_and_Directories_from_Windows_Command_Prompt5.txt', 1, '0'),
        })

        self._test_qrels('bright/economics-long', count=800, items={
            0: TrecQrel('0', 'stole/ajol_6.txt', 1, '0'),
            9: TrecQrel('1', 'stochastic_dominance/Stochasticdominance_4.txt', 1, '0'),
            799: TrecQrel('102', 'country_firm/granular_6.txt', 1, '0'),
        })

        self._test_qrels('bright/pony-long', count=2219, items={
            0: TrecQrel('0', 'Pony/4_control-structures_13.txt', 1, '0'),
            9: TrecQrel('0', 'Pony/4_control-structures_2.txt', 1, '0'),
            2218: TrecQrel('111', 'Pony/1_variables_1.txt', 1, '0'),
        })

        self._test_qrels('bright/psychology-long', count=692, items={
            0: TrecQrel('0', 'confirmation_bias/seeds_model_11.txt', 1, '0'),
            9: TrecQrel('1', 'meg/Magnetoencephalography_18.txt', 1, '0'),
            691: TrecQrel('100', 'mentalblock/Mentalblock_3.txt', 1, '0'),
        })

        self._test_qrels('bright/robotics-long', count=520, items={
            0: TrecQrel('0', 'ros2cpp/navigationlaunchpy_20.txt', 1, '0'),
            9: TrecQrel('2', 'gazebo/indexhtml_2.txt', 1, '0'),
            519: TrecQrel('100', 'relative_path/PackagesClientLibrar_6.txt', 1, '0'),
        })

        self._test_qrels('bright/stackoverflow-long', count=478, items={
            0: TrecQrel('0', 'snowflake_docs/flatten_2_0.txt', 1, '0'),
            9: TrecQrel('1', 'Python_pandas_functions_with_style/DataFrame_93_5.txt', 1, '0'),
            477: TrecQrel('116', 'R_base_all/R_base_all_351_0.txt', 1, '0'),
        })

        self._test_qrels('bright/sustainable-living-long', count=576, items={
            0: TrecQrel('0', 'incineration/Incineration_62.txt', 1, '0'),
            9: TrecQrel('0', 'incineration/Incineration_92.txt', 1, '0'),
            575: TrecQrel('107', 'boreal_forest/Silvopasture_5.txt', 1, '0'),
        })


if __name__ == '__main__':
    unittest.main()
